{"ast":null,"code":"var _jsxFileName = \"/users/nfs/Vrac/TME7CPAYANIS/proj/CPA/src/components/canvas/index.tsx\",\n  _s = $RefreshSig$();\nimport * as conf from './conf';\nimport { useRef, useEffect } from 'react';\nimport { step, click, mouseMove, endOfGame, clickEnd } from './state';\nimport { render } from './renderer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst randomInt = max => Math.floor(Math.random() * max);\nconst randomSign = () => Math.sign(Math.random() - 0.5);\nconst initCanvas = iterate => canvas => {\n  const ctx = canvas.getContext('2d');\n  if (!ctx) return;\n  requestAnimationFrame(() => iterate(ctx));\n};\n\n//Initialisation des plateformes (global car on les connait toutes à l'avance)\nlet ensPlat = [[400, 520, 200, 70], [300, 400, 200, 70], [200, 300, 200, 70], [100, 200, 200, 70]];\nlet i = 0;\nconst Canvas = _ref => {\n  _s();\n  let {\n    height,\n    width\n  } = _ref;\n  const initialState = {\n    joueur: {\n      pos: {\n        x: 50,\n        y: 50\n      },\n      HP: 3,\n      speed: 10,\n      velX: 0,\n      velY: 0\n    },\n    pos: new Array(20).fill(1).map(_ => ({\n      life: conf.BALLLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 4 * randomSign(),\n        dy: 4 * randomSign()\n      }\n    })),\n    player: {\n      life: conf.PLAYERLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 0,\n        dy: 0\n      }\n    },\n    size: {\n      height,\n      width\n    },\n    endOfGame: true,\n    platforms: new Array(4).fill(1).map(ensPlat => ({\n      x: ensPlat[i++],\n      y: 3,\n      longueur: 2,\n      largeur: 4\n    }))\n  };\n  const ref = useRef();\n  const state = useRef(initialState);\n  const scaleRef = useRef(1);\n  const posRef = useRef({\n    x: 0,\n    y: 0\n  });\n  const drag = useRef(false);\n  const dragStart = useRef({\n    x: 0,\n    y: 0\n  });\n  const downTS = useRef(Date.now());\n  const iterate = ctx => {\n    /*const fps = 60;\n    const interval = 1000 / fps;\n    let lastRenderTime = 0;\n     setInterval(() => {\n      const currentTime = Date.now();\n      const elapsed = currentTime - lastRenderTime;\n      if (elapsed > interval) {\n        lastRenderTime = currentTime;\n         // votre code de rendu de canvas ici\n      }\n    }, interval);*/\n\n    state.current = step(state.current);\n    state.current.endOfGame = !endOfGame(state.current);\n    render(ctx, {\n      pos: posRef.current,\n      scale: scaleRef.current\n    })(state.current);\n    if (!state.current.endOfGame) requestAnimationFrame(() => iterate(ctx));\n  };\n  const onClick = e => {\n    state.current = click(state.current)(e);\n  };\n  const onClickEnd = e => {\n    state.current = clickEnd(state.current)(e);\n  };\n  const onMove = e => {\n    state.current = mouseMove(state.current)(e);\n  };\n  useEffect(() => {\n    const onWheel = e => {\n      const {\n        offsetX,\n        offsetY,\n        deltaY\n      } = e;\n      const zoomFactor = 0.98;\n      if (scaleRef.current > 0.5 || deltaY < 0) {\n        const factor = e.deltaY > 0 ? zoomFactor : 1 / zoomFactor;\n        scaleRef.current = scaleRef.current * factor;\n        const dx = offsetX / scaleRef.current * (factor - 1);\n        const dy = offsetY / scaleRef.current * (factor - 1);\n        posRef.current = {\n          x: posRef.current.x - dx,\n          y: posRef.current.y - dy\n        };\n      }\n    };\n    const onDragStart = e => {\n      const {\n        x,\n        y\n      } = e;\n      dragStart.current = {\n        x,\n        y\n      };\n      drag.current = true;\n      downTS.current = Date.now();\n    };\n    const onDragEnd = _e => drag.current = false;\n    const onDragMove = e => {\n      if (drag.current) {\n        const {\n          x,\n          y\n        } = e;\n        const scale = scaleRef.current;\n        const pos = posRef.current;\n        posRef.current = {\n          x: (x - dragStart.current.x) / scale + pos.x,\n          y: (y - dragStart.current.y) / scale + pos.y\n        };\n        dragStart.current = {\n          x,\n          y\n        };\n      }\n    };\n    ref.current.addEventListener('mousedown', onClick);\n    ref.current.addEventListener('mouseup', onClickEnd);\n    ref.current.addEventListener('mousemove', onMove);\n    ref.current.addEventListener('wheel', onWheel);\n    ref.current.addEventListener('mouseupoutside', onDragEnd);\n    ref.current.addEventListener('touchendoutside', onDragEnd);\n    ref.current.addEventListener('mouseup', onClick);\n    ref.current.addEventListener('mousemove', onDragMove);\n    ref.current.addEventListener('mousedown', onDragStart);\n    ref.current.addEventListener('touchstart', onDragStart);\n    ref.current.addEventListener('mouseup', onDragEnd);\n    ref.current.addEventListener('touchend', onDragEnd);\n    ref.current.addEventListener('mousemove', onDragMove);\n    ref.current.addEventListener('touchmove', onDragMove);\n    initCanvas(iterate)(ref.current);\n    return () => {\n      ref.current.removeEventListener('mousedown', onClick);\n      ref.current.removeEventListener('mouseup', onClickEnd);\n      ref.current.removeEventListener('mousemove', onMove);\n      ref.current.removeEventListener('wheel', onWheel);\n      ref.current.removeEventListener('mouseupoutside', onDragEnd);\n      ref.current.removeEventListener('touchendoutside', onDragEnd);\n      ref.current.removeEventListener('mouseup', onClick);\n      ref.current.removeEventListener('mousemove', onDragMove);\n      ref.current.removeEventListener('mousedown', onDragStart);\n      ref.current.removeEventListener('touchstart', onDragStart);\n      ref.current.removeEventListener('mouseup', onDragEnd);\n      ref.current.removeEventListener('touchend', onDragEnd);\n      ref.current.removeEventListener('mousemove', onDragMove);\n      ref.current.removeEventListener('touchmove', onDragMove);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    height,\n    width,\n    ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 10\n  }, this);\n};\n_s(Canvas, \"Mg1oqckTRS+FoS8tlxpdYhrmZP0=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["conf","useRef","useEffect","step","click","mouseMove","endOfGame","clickEnd","render","jsxDEV","_jsxDEV","randomInt","max","Math","floor","random","randomSign","sign","initCanvas","iterate","canvas","ctx","getContext","requestAnimationFrame","ensPlat","i","Canvas","_ref","_s","height","width","initialState","joueur","pos","x","y","HP","speed","velX","velY","Array","fill","map","_","life","BALLLIFE","coord","dx","dy","player","PLAYERLIFE","size","platforms","longueur","largeur","ref","state","scaleRef","posRef","drag","dragStart","downTS","Date","now","current","scale","onClick","e","onClickEnd","onMove","onWheel","offsetX","offsetY","deltaY","zoomFactor","factor","onDragStart","onDragEnd","_e","onDragMove","addEventListener","removeEventListener","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/users/nfs/Vrac/TME7CPAYANIS/proj/CPA/src/components/canvas/index.tsx"],"sourcesContent":["import * as conf from './conf'\nimport { useRef, useEffect } from 'react'\nimport { State, step, click, mouseMove, endOfGame, clickEnd } from './state'\nimport { render, RenderProps } from './renderer'\n\nimport * as jeu from './game'\n\nconst randomInt = (max: number) => Math.floor(Math.random() * max)\nconst randomSign = () => Math.sign(Math.random() - 0.5)\n\nconst initCanvas =\n  (iterate: (ctx: CanvasRenderingContext2D) => void) =>\n  (canvas: HTMLCanvasElement) => {\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return\n    requestAnimationFrame(() => iterate(ctx))\n  }\n\n\n//Initialisation des plateformes (global car on les connait toutes à l'avance)\nlet ensPlat = [[400, 520, 200, 70],[300, 400, 200, 70],[200, 300, 200, 70],[100, 200, 200, 70]]\n\nlet i = 0\nconst Canvas = ({ height, width }: { height: number; width: number }) => {\n  const initialState: State = {\n    joueur: {\n      pos: {\n        x: 50,\n        y: 50,\n      },\n      HP: 3,\n      speed: 10,\n      velX: 0,\n      velY: 0,\n    },\n\n    pos: new Array(20).fill(1).map((_) => ({\n      life: conf.BALLLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 4 * randomSign(),\n        dy: 4 * randomSign(),\n      },\n    })),\n    player: {\n      life: conf.PLAYERLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 0,\n        dy: 0,\n      },\n    },\n    size: { height, width },\n    endOfGame: true,\n    platforms: new Array(4).fill(1).map((ensPlat) => ({\n      x: ensPlat[i++],\n      y: 3,\n      longueur: 2,\n      largeur: 4,\n      \n    })),\n  }\n\n  const ref = useRef<any>()\n  const state = useRef<State>(initialState)\n  const scaleRef = useRef<number>(1)\n  const posRef = useRef<{ x: number; y: number }>({ x: 0, y: 0 })\n  const drag = useRef<boolean>(false)\n  const dragStart = useRef<{ x: number; y: number }>({ x: 0, y: 0 })\n  const downTS = useRef<number>(Date.now())\n\n  const iterate = (ctx: CanvasRenderingContext2D) => {\n    /*const fps = 60;\n    const interval = 1000 / fps;\n    let lastRenderTime = 0;\n\n    setInterval(() => {\n      const currentTime = Date.now();\n      const elapsed = currentTime - lastRenderTime;\n      if (elapsed > interval) {\n        lastRenderTime = currentTime;\n\n        // votre code de rendu de canvas ici\n      }\n  }, interval);*/\n\n\n\n    state.current = step(state.current)\n    state.current.endOfGame = !endOfGame(state.current)\n    render(ctx, {\n      pos: posRef.current,\n      scale: scaleRef.current,\n    })(state.current)\n    if (!state.current.endOfGame) requestAnimationFrame(() => iterate(ctx))\n  }\n\n  const onClick = (e: PointerEvent) => {\n    state.current = click(state.current)(e)\n  }\n\n  const onClickEnd = (e: PointerEvent) => {\n    state.current = clickEnd(state.current)(e)\n  }\n\n  const onMove = (e: PointerEvent) => {\n    state.current = mouseMove(state.current)(e)\n  }\n\n  useEffect(() => {\n    const onWheel = (e: WheelEvent) => {\n      const { offsetX, offsetY, deltaY } = e\n      const zoomFactor = 0.98\n      if (scaleRef.current > 0.5 || deltaY < 0) {\n        const factor = e.deltaY > 0 ? zoomFactor : 1 / zoomFactor\n        scaleRef.current = scaleRef.current * factor\n        const dx = (offsetX / scaleRef.current) * (factor - 1)\n        const dy = (offsetY / scaleRef.current) * (factor - 1)\n        posRef.current = {\n          x: posRef.current.x - dx,\n          y: posRef.current.y - dy,\n        }\n      }\n    }\n    const onDragStart = (e: PointerEvent) => {\n      const { x, y } = e\n      dragStart.current = { x, y }\n      drag.current = true\n      downTS.current = Date.now()\n    }\n    const onDragEnd = (_e: any) => (drag.current = false)\n    const onDragMove = (e: PointerEvent) => {\n      if (drag.current) {\n        const { x, y } = e\n        const scale = scaleRef.current\n        const pos = posRef.current\n        posRef.current = {\n          x: (x - dragStart.current.x) / scale + pos.x,\n          y: (y - dragStart.current.y) / scale + pos.y,\n        }\n        dragStart.current = { x, y }\n      }\n    }\n\n    ref.current.addEventListener('mousedown', onClick)\n    ref.current.addEventListener('mouseup', onClickEnd)\n    ref.current.addEventListener('mousemove', onMove)\n    ref.current.addEventListener('wheel', onWheel)\n    ref.current.addEventListener('mouseupoutside', onDragEnd)\n    ref.current.addEventListener('touchendoutside', onDragEnd)\n    ref.current.addEventListener('mouseup', onClick)\n    ref.current.addEventListener('mousemove', onDragMove)\n    ref.current.addEventListener('mousedown', onDragStart)\n    ref.current.addEventListener('touchstart', onDragStart)\n    ref.current.addEventListener('mouseup', onDragEnd)\n    ref.current.addEventListener('touchend', onDragEnd)\n    ref.current.addEventListener('mousemove', onDragMove)\n    ref.current.addEventListener('touchmove', onDragMove)\n    initCanvas(iterate)(ref.current)\n\n    return () => {\n      ref.current.removeEventListener('mousedown', onClick)\n      ref.current.removeEventListener('mouseup', onClickEnd)\n      ref.current.removeEventListener('mousemove', onMove)\n      ref.current.removeEventListener('wheel', onWheel)\n      ref.current.removeEventListener('mouseupoutside', onDragEnd)\n      ref.current.removeEventListener('touchendoutside', onDragEnd)\n      ref.current.removeEventListener('mouseup', onClick)\n      ref.current.removeEventListener('mousemove', onDragMove)\n      ref.current.removeEventListener('mousedown', onDragStart)\n      ref.current.removeEventListener('touchstart', onDragStart)\n      ref.current.removeEventListener('mouseup', onDragEnd)\n      ref.current.removeEventListener('touchend', onDragEnd)\n      ref.current.removeEventListener('mousemove', onDragMove)\n      ref.current.removeEventListener('touchmove', onDragMove)\n    }\n  }, [])\n  return <canvas {...{ height, width, ref }} />\n}\n\nexport default Canvas\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}