{"ast":null,"code":"var _jsxFileName = \"/users/nfs/Vrac/TME7CPAYANIS/proj/CPA/src/components/canvas/index.tsx\",\n  _s = $RefreshSig$();\nimport * as conf from './conf';\nimport { useRef, useEffect } from 'react';\nimport { step, click, mouseMove, endOfGame, clickEnd } from './state';\nimport { render } from './renderer';\nimport * as jeu from './game';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst randomInt = max => Math.floor(Math.random() * max);\nconst randomSign = () => Math.sign(Math.random() - 0.5);\nconst initCanvas = iterate => canvas => {\n  const ctx = canvas.getContext('2d');\n  if (!ctx) return;\n  requestAnimationFrame(() => iterate(ctx));\n};\n\n//Initialisation des plateformes (global car on les connait toutes à l'avance)\nlet ensPlat = [new jeu.Plateforme({\n  x: 400,\n  y: 520,\n  longueur: 200,\n  largeur: 70\n}), new jeu.Plateforme({\n  x: 300,\n  y: 400,\n  longueur: 200,\n  largeur: 70\n}), new jeu.Plateforme({\n  x: 200,\n  y: 300,\n  longueur: 200,\n  largeur: 70\n}), new jeu.Plateforme({\n  x: 100,\n  y: 200,\n  longueur: 200,\n  largeur: 70\n})];\n\n//[400, 520, 200, 70],[300, 400, 200, 70],[200, 300, 200, 70],[100, 200, 200, 70]]\n\nlet i = -1;\nlet j = -1;\nconst Canvas = _ref => {\n  _s();\n  let {\n    height,\n    width\n  } = _ref;\n  const initialState = {\n    joueur: {\n      pos: {\n        x: 50,\n        y: 50\n      },\n      HP: 3,\n      speed: 10,\n      velX: 0,\n      velY: 0\n    },\n    pos: new Array(20).fill(1).map(_ => ({\n      life: conf.BALLLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 4 * randomSign(),\n        dy: 4 * randomSign()\n      }\n    })),\n    player: {\n      life: conf.PLAYERLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 0,\n        dy: 0\n      }\n    },\n    size: {\n      height,\n      width\n    },\n    endOfGame: true,\n    platforms: ensPlat\n  };\n  const ref = useRef();\n  const state = useRef(initialState);\n  const scaleRef = useRef(1);\n  const posRef = useRef({\n    x: 0,\n    y: 0\n  });\n  const drag = useRef(false);\n  const dragStart = useRef({\n    x: 0,\n    y: 0\n  });\n  const downTS = useRef(Date.now());\n  const iterate = ctx => {\n    /*const fps = 60;\n    const interval = 1000 / fps;\n    let lastRenderTime = 0;\n     setInterval(() => {\n      const currentTime = Date.now();\n      const elapsed = currentTime - lastRenderTime;\n      if (elapsed > interval) {\n        lastRenderTime = currentTime;\n         // votre code de rendu de canvas ici\n      }\n    }, interval);*/\n\n    state.current = step(state.current);\n    console.log(ensPlat[0][0]);\n    state.current.endOfGame = !endOfGame(state.current);\n    render(ctx, {\n      pos: posRef.current,\n      scale: scaleRef.current\n    }, ensPlat)(state.current);\n    if (!state.current.endOfGame) requestAnimationFrame(() => iterate(ctx));\n  };\n  const onClick = e => {\n    state.current = click(state.current)(e);\n  };\n  const onClickEnd = e => {\n    state.current = clickEnd(state.current)(e);\n  };\n  const onMove = e => {\n    state.current = mouseMove(state.current)(e);\n  };\n  useEffect(() => {\n    const onWheel = e => {\n      const {\n        offsetX,\n        offsetY,\n        deltaY\n      } = e;\n      const zoomFactor = 0.98;\n      if (scaleRef.current > 0.5 || deltaY < 0) {\n        const factor = e.deltaY > 0 ? zoomFactor : 1 / zoomFactor;\n        scaleRef.current = scaleRef.current * factor;\n        const dx = offsetX / scaleRef.current * (factor - 1);\n        const dy = offsetY / scaleRef.current * (factor - 1);\n        posRef.current = {\n          x: posRef.current.x - dx,\n          y: posRef.current.y - dy\n        };\n      }\n    };\n    const onDragStart = e => {\n      const {\n        x,\n        y\n      } = e;\n      dragStart.current = {\n        x,\n        y\n      };\n      drag.current = true;\n      downTS.current = Date.now();\n    };\n    const onDragEnd = _e => drag.current = false;\n    const onDragMove = e => {\n      if (drag.current) {\n        const {\n          x,\n          y\n        } = e;\n        const scale = scaleRef.current;\n        const pos = posRef.current;\n        posRef.current = {\n          x: (x - dragStart.current.x) / scale + pos.x,\n          y: (y - dragStart.current.y) / scale + pos.y\n        };\n        dragStart.current = {\n          x,\n          y\n        };\n      }\n    };\n    ref.current.addEventListener('mousedown', onClick);\n    ref.current.addEventListener('mouseup', onClickEnd);\n    ref.current.addEventListener('mousemove', onMove);\n    ref.current.addEventListener('wheel', onWheel);\n    ref.current.addEventListener('mouseupoutside', onDragEnd);\n    ref.current.addEventListener('touchendoutside', onDragEnd);\n    ref.current.addEventListener('mouseup', onClick);\n    ref.current.addEventListener('mousemove', onDragMove);\n    ref.current.addEventListener('mousedown', onDragStart);\n    ref.current.addEventListener('touchstart', onDragStart);\n    ref.current.addEventListener('mouseup', onDragEnd);\n    ref.current.addEventListener('touchend', onDragEnd);\n    ref.current.addEventListener('mousemove', onDragMove);\n    ref.current.addEventListener('touchmove', onDragMove);\n    initCanvas(iterate)(ref.current);\n    return () => {\n      ref.current.removeEventListener('mousedown', onClick);\n      ref.current.removeEventListener('mouseup', onClickEnd);\n      ref.current.removeEventListener('mousemove', onMove);\n      ref.current.removeEventListener('wheel', onWheel);\n      ref.current.removeEventListener('mouseupoutside', onDragEnd);\n      ref.current.removeEventListener('touchendoutside', onDragEnd);\n      ref.current.removeEventListener('mouseup', onClick);\n      ref.current.removeEventListener('mousemove', onDragMove);\n      ref.current.removeEventListener('mousedown', onDragStart);\n      ref.current.removeEventListener('touchstart', onDragStart);\n      ref.current.removeEventListener('mouseup', onDragEnd);\n      ref.current.removeEventListener('touchend', onDragEnd);\n      ref.current.removeEventListener('mousemove', onDragMove);\n      ref.current.removeEventListener('touchmove', onDragMove);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    height,\n    width,\n    ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 10\n  }, this);\n};\n_s(Canvas, \"Mg1oqckTRS+FoS8tlxpdYhrmZP0=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["conf","useRef","useEffect","step","click","mouseMove","endOfGame","clickEnd","render","jeu","jsxDEV","_jsxDEV","randomInt","max","Math","floor","random","randomSign","sign","initCanvas","iterate","canvas","ctx","getContext","requestAnimationFrame","ensPlat","Plateforme","x","y","longueur","largeur","i","j","Canvas","_ref","_s","height","width","initialState","joueur","pos","HP","speed","velX","velY","Array","fill","map","_","life","BALLLIFE","coord","dx","dy","player","PLAYERLIFE","size","platforms","ref","state","scaleRef","posRef","drag","dragStart","downTS","Date","now","current","console","log","scale","onClick","e","onClickEnd","onMove","onWheel","offsetX","offsetY","deltaY","zoomFactor","factor","onDragStart","onDragEnd","_e","onDragMove","addEventListener","removeEventListener","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/users/nfs/Vrac/TME7CPAYANIS/proj/CPA/src/components/canvas/index.tsx"],"sourcesContent":["import * as conf from './conf'\nimport { useRef, useEffect } from 'react'\nimport { State, step, click, mouseMove, endOfGame, clickEnd } from './state'\nimport { render, RenderProps } from './renderer'\n\nimport * as jeu from './game'\n\nconst randomInt = (max: number) => Math.floor(Math.random() * max)\nconst randomSign = () => Math.sign(Math.random() - 0.5)\n\nconst initCanvas =\n  (iterate: (ctx: CanvasRenderingContext2D) => void) =>\n  (canvas: HTMLCanvasElement) => {\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return\n    requestAnimationFrame(() => iterate(ctx))\n  }\n\n\n//Initialisation des plateformes (global car on les connait toutes à l'avance)\nlet ensPlat = [new jeu.Plateforme({x : 400, y:520, longueur:200, largeur:70}),new jeu.Plateforme({x : 300, y:400, longueur:200, largeur:70}),\n  new jeu.Plateforme({x : 200, y:300, longueur:200, largeur:70}),new jeu.Plateforme({x : 100, y:200, longueur:200, largeur:70})]\n\n//[400, 520, 200, 70],[300, 400, 200, 70],[200, 300, 200, 70],[100, 200, 200, 70]]\n\nlet i = -1\nlet j = -1\nconst Canvas = ({ height, width }: { height: number; width: number }) => {\n  const initialState: State = {\n    joueur: {\n      pos: {\n        x: 50,\n        y: 50,\n      },\n      HP: 3,\n      speed: 10,\n      velX: 0,\n      velY: 0,\n    },\n\n    pos: new Array(20).fill(1).map((_) => ({\n      life: conf.BALLLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 4 * randomSign(),\n        dy: 4 * randomSign(),\n      },\n    })),\n    player: {\n      life: conf.PLAYERLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 0,\n        dy: 0,\n      },\n    },\n    size: { height, width },\n    endOfGame: true,\n    platforms: ensPlat,\n  }\n\n  const ref = useRef<any>()\n  const state = useRef<State>(initialState)\n  const scaleRef = useRef<number>(1)\n  const posRef = useRef<{ x: number; y: number }>({ x: 0, y: 0 })\n  const drag = useRef<boolean>(false)\n  const dragStart = useRef<{ x: number; y: number }>({ x: 0, y: 0 })\n  const downTS = useRef<number>(Date.now())\n\n  const iterate = (ctx: CanvasRenderingContext2D) => {\n    /*const fps = 60;\n    const interval = 1000 / fps;\n    let lastRenderTime = 0;\n\n    setInterval(() => {\n      const currentTime = Date.now();\n      const elapsed = currentTime - lastRenderTime;\n      if (elapsed > interval) {\n        lastRenderTime = currentTime;\n\n        // votre code de rendu de canvas ici\n      }\n  }, interval);*/\n\n\n\n    state.current = step(state.current)\n    console.log(ensPlat[0][0])\n    state.current.endOfGame = !endOfGame(state.current)\n    render(ctx, {\n      pos: posRef.current,\n      scale: scaleRef.current,\n    },ensPlat)(state.current)\n    if (!state.current.endOfGame) requestAnimationFrame(() => iterate(ctx))\n  }\n\n  const onClick = (e: PointerEvent) => {\n    state.current = click(state.current)(e)\n  }\n\n  const onClickEnd = (e: PointerEvent) => {\n    state.current = clickEnd(state.current)(e)\n  }\n\n  const onMove = (e: PointerEvent) => {\n    state.current = mouseMove(state.current)(e)\n  }\n\n  useEffect(() => {\n    const onWheel = (e: WheelEvent) => {\n      const { offsetX, offsetY, deltaY } = e\n      const zoomFactor = 0.98\n      if (scaleRef.current > 0.5 || deltaY < 0) {\n        const factor = e.deltaY > 0 ? zoomFactor : 1 / zoomFactor\n        scaleRef.current = scaleRef.current * factor\n        const dx = (offsetX / scaleRef.current) * (factor - 1)\n        const dy = (offsetY / scaleRef.current) * (factor - 1)\n        posRef.current = {\n          x: posRef.current.x - dx,\n          y: posRef.current.y - dy,\n        }\n      }\n    }\n    const onDragStart = (e: PointerEvent) => {\n      const { x, y } = e\n      dragStart.current = { x, y }\n      drag.current = true\n      downTS.current = Date.now()\n    }\n    const onDragEnd = (_e: any) => (drag.current = false)\n    const onDragMove = (e: PointerEvent) => {\n      if (drag.current) {\n        const { x, y } = e\n        const scale = scaleRef.current\n        const pos = posRef.current\n        posRef.current = {\n          x: (x - dragStart.current.x) / scale + pos.x,\n          y: (y - dragStart.current.y) / scale + pos.y,\n        }\n        dragStart.current = { x, y }\n      }\n    }\n\n    ref.current.addEventListener('mousedown', onClick)\n    ref.current.addEventListener('mouseup', onClickEnd)\n    ref.current.addEventListener('mousemove', onMove)\n    ref.current.addEventListener('wheel', onWheel)\n    ref.current.addEventListener('mouseupoutside', onDragEnd)\n    ref.current.addEventListener('touchendoutside', onDragEnd)\n    ref.current.addEventListener('mouseup', onClick)\n    ref.current.addEventListener('mousemove', onDragMove)\n    ref.current.addEventListener('mousedown', onDragStart)\n    ref.current.addEventListener('touchstart', onDragStart)\n    ref.current.addEventListener('mouseup', onDragEnd)\n    ref.current.addEventListener('touchend', onDragEnd)\n    ref.current.addEventListener('mousemove', onDragMove)\n    ref.current.addEventListener('touchmove', onDragMove)\n    initCanvas(iterate)(ref.current)\n\n    return () => {\n      ref.current.removeEventListener('mousedown', onClick)\n      ref.current.removeEventListener('mouseup', onClickEnd)\n      ref.current.removeEventListener('mousemove', onMove)\n      ref.current.removeEventListener('wheel', onWheel)\n      ref.current.removeEventListener('mouseupoutside', onDragEnd)\n      ref.current.removeEventListener('touchendoutside', onDragEnd)\n      ref.current.removeEventListener('mouseup', onClick)\n      ref.current.removeEventListener('mousemove', onDragMove)\n      ref.current.removeEventListener('mousedown', onDragStart)\n      ref.current.removeEventListener('touchstart', onDragStart)\n      ref.current.removeEventListener('mouseup', onDragEnd)\n      ref.current.removeEventListener('touchend', onDragEnd)\n      ref.current.removeEventListener('mousemove', onDragMove)\n      ref.current.removeEventListener('touchmove', onDragMove)\n    }\n  }, [])\n  return <canvas {...{ height, width, ref }} />\n}\n\nexport default Canvas\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}