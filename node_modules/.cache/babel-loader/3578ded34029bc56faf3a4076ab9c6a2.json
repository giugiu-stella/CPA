{"ast":null,"code":"import { walkcycle } from './state';\nimport imageSol from './images/sol.png';\nimport imageCoeur from './images/coeur.png';\nimport imagePerso from './images/megaMan_static1.png';\nimport fond1 from './images/background_1.png';\nimport fond2 from './images/background_2.png';\nimport fond3 from './images/background_3.png';\nimport fond4 from './images/background_4.png';\nimport marche1 from './images/megaMan_run1.png';\nimport marche2 from './images/megaMan_run2.png';\nimport marche3 from './images/megaMan_run3.png';\nimport marche4 from './images/megaMan_run4.png';\nimport pf from './images/plateforme_city.png';\nvar COLORS = {\n  RED: '#ff0000',\n  GREEN: '#008800',\n  BLUE: '#0000ff'\n};\nvar oldrotate = false;\nvar frame = 0;\nexport var dimPersoX = 120;\nexport var dimPersoY = 120;\nvar stateImageSol = false;\nvar stateImageCoeur = false;\nvar stateImagePerso = false;\nvar stateFond = false;\nvar imageCoeurUrl = new Image();\nvar imageSolUrl = new Image();\nvar imagePersoUrl = new Image();\nvar imageFond1Url = new Image();\nvar imageFond2Url = new Image();\nvar imageFond3Url = new Image();\nvar imageFond4Url = new Image();\nvar imageMarche1Url = new Image();\nvar imageMarche2Url = new Image();\nvar imageMarche3Url = new Image();\nvar imageMarche4Url = new Image();\nvar imagePF = new Image();\nimagePF.src = pf;\nimageCoeurUrl.src = imageCoeur;\nimageSolUrl.src = imageSol;\nimagePersoUrl.src = imagePerso;\nimageFond1Url.src = fond1;\nimageFond2Url.src = fond2;\nimageFond3Url.src = fond3;\nimageFond4Url.src = fond4;\nimageMarche1Url.src = marche1;\nimageMarche2Url.src = marche2;\nimageMarche3Url.src = marche3;\nimageMarche4Url.src = marche4;\nimageSolUrl.onload = function () {\n  stateImageSol = true;\n};\nimageCoeurUrl.onload = function () {\n  stateImageCoeur = true;\n};\nimagePersoUrl.onload = function () {\n  stateImagePerso = true;\n};\nimageFond1Url.onload = function () {\n  stateFond = true;\n};\nvar toDoubleHexa = function toDoubleHexa(n) {\n  return n < 16 ? '0' + n.toString(16) : n.toString(16);\n};\nexport var rgbaTorgb = function rgbaTorgb(rgb) {\n  var alpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var r = 0;\n  var g = 0;\n  var b = 0;\n  if (rgb.startsWith('#')) {\n    var hexR = rgb.length === 7 ? rgb.slice(1, 3) : rgb[1];\n    var hexG = rgb.length === 7 ? rgb.slice(3, 5) : rgb[2];\n    var hexB = rgb.length === 7 ? rgb.slice(5, 7) : rgb[3];\n    r = parseInt(hexR, 16);\n    g = parseInt(hexG, 16);\n    b = parseInt(hexB, 16);\n  }\n  if (rgb.startsWith('rgb')) {\n    var val = rgb.replace(/(rgb)|\\(|\\)| /g, '');\n    var splitted = val.split(',');\n    r = parseInt(splitted[0]);\n    g = parseInt(splitted[1]);\n    b = parseInt(splitted[2]);\n  }\n  r = Math.max(Math.min(Math.floor((1 - alpha) * r + alpha * 255), 255), 0);\n  g = Math.max(Math.min(Math.floor((1 - alpha) * g + alpha * 255), 255), 0);\n  b = Math.max(Math.min(Math.floor((1 - alpha) * b + alpha * 255), 255), 0);\n  return \"#\".concat(toDoubleHexa(r)).concat(toDoubleHexa(g)).concat(toDoubleHexa(b));\n};\nvar clear = function clear(ctx) {\n  var _ctx$canvas = ctx.canvas,\n    height = _ctx$canvas.height,\n    width = _ctx$canvas.width;\n  ctx.fillStyle = 'white';\n  ctx.fillRect(0, 0, width, height);\n};\n/*\nexport type RenderProps = {\n  pos: { x: number; y: number }\n  scale: number\n}\n\nconst drawCirle = (\n  ctx: CanvasRenderingContext2D,\n  renderProps: RenderProps,\n  { x, y }: { x: number; y: number },\n  color: string\n) => {\n  ctx.beginPath()\n  ctx.fillStyle = color\n  ctx.arc(\n    (x + renderProps.pos.x) * renderProps.scale,\n    (y + renderProps.pos.y) * renderProps.scale,\n    conf.RADIUS * renderProps.scale,\n    0,\n    2 * Math.PI\n  )\n  ctx.fill()\n}*/\nvar cptTmp = 0;\nvar diplayImages = function diplayImages(ctx) {\n  return function (state) {\n    /*ctx.font = '96px arial'\n    ctx.strokeText(`life ${state.player.life}`, 20, 100)\n    ctx.strokeText(\n      `balls life ${state.pos\n        .map((p) => p.life)\n        .reduce((acc, val) => acc + val, 0)}`,\n      20,\n      200\n    )*/\n    if (stateFond) {\n      if (frame < 5) ctx.drawImage(imageFond1Url, 0, -200, 1400, 1000);else if (frame >= 5 && frame < 10) ctx.drawImage(imageFond2Url, 0, -200, 1400, 1000);else if (frame >= 10 && frame < 15) ctx.drawImage(imageFond3Url, 0, -200, 1400, 1000);else {\n        ctx.drawImage(imageFond4Url, 0, -200, 1400, 1000);\n      }\n    }\n    if (stateImageSol) ctx.drawImage(imageSolUrl, 0, 680, 500, 100);\n    ctx.drawImage(imageSolUrl, 495, 680, 500, 100);\n    ctx.drawImage(imageSolUrl, 990, 680, 500, 100);\n    if (stateImageCoeur) ctx.drawImage(imageCoeurUrl, 10, 10, 50, 50);\n    ctx.drawImage(imageCoeurUrl, 70, 10, 50, 50);\n    ctx.drawImage(imageCoeurUrl, 130, 10, 50, 50);\n    if (stateImagePerso) {\n      console.log(\"frame: \" + cptTmp);\n      if (walkcycle == false) {\n        cptTmp = 0;\n        //if(rotate == true){\n        //todo\n        //else{\n        ctx.drawImage(imagePersoUrl, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX, dimPersoY);\n        //}\n      } else {\n        cptTmp = (cptTmp + 1) % 60;\n        if (cptTmp < 15) ctx.drawImage(imageMarche1Url, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX, dimPersoY);else if (cptTmp >= 15 && cptTmp < 30) ctx.drawImage(imageMarche2Url, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX - 30, dimPersoY);else if (cptTmp >= 30 && cptTmp < 45) ctx.drawImage(imageMarche3Url, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX, dimPersoY);else {\n          ctx.drawImage(imageMarche4Url, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX - 30, dimPersoY);\n        }\n      }\n    }\n\n    /* Pour image run vers la droite :  \n    context.translate(state.joueur.pos.x + 50, state.joueur.pos.y + 50);\n    context.rotate(Math.PI/2);\n    context.drawImage(imageMarche1Url, -100 / 2, -100/ 2, 100,100);\n    */\n\n    /* décider si faire variable stateJoueurGauche et stateJoueurDroite  */\n  };\n};\n\nvar computeColor = function computeColor(life, maxLife, baseColor) {\n  return rgbaTorgb(baseColor, (maxLife - life) * (1 / maxLife));\n};\nexport var render = function render(ctx, plats) {\n  return function (state) {\n    clear(ctx);\n    frame++;\n    frame = frame % 20;\n    diplayImages(ctx)(state);\n    /*state.pos.map((c) =>\n      drawCirle(\n        ctx,\n        props,\n        c.coord,\n        computeColor(c.life, conf.BALLLIFE, COLORS.GREEN)\n      )\n    )\n    drawCirle(\n      ctx,\n      props,\n      state.player.coord,\n      computeColor(state.player.life, conf.PLAYERLIFE, COLORS.BLUE)\n    )*/\n    for (var i = 0; i < plats.length; i++) {\n      ctx.drawImage(imagePF, plats[i].x, plats[i].y, plats[i].longueur, plats[i].largeur);\n      //ctx.fillStyle = 'red'\n      //ctx.fillRect(plats[i].x, plats[i].y, plats[i].longueur, plats[i].largeur)\n    }\n\n    //console.log(plats[0][0])\n\n    /*if (state.endOfGame) {\n      const text = 'END'\n      ctx.font = '48px'\n      ctx.strokeText(text, state.size.width / 2 - 100, state.size.height / 2)\n    }*/\n  };\n};","map":{"version":3,"names":["walkcycle","imageSol","imageCoeur","imagePerso","fond1","fond2","fond3","fond4","marche1","marche2","marche3","marche4","pf","COLORS","RED","GREEN","BLUE","oldrotate","frame","dimPersoX","dimPersoY","stateImageSol","stateImageCoeur","stateImagePerso","stateFond","imageCoeurUrl","Image","imageSolUrl","imagePersoUrl","imageFond1Url","imageFond2Url","imageFond3Url","imageFond4Url","imageMarche1Url","imageMarche2Url","imageMarche3Url","imageMarche4Url","imagePF","src","onload","toDoubleHexa","n","toString","rgbaTorgb","rgb","alpha","arguments","length","undefined","r","g","b","startsWith","hexR","slice","hexG","hexB","parseInt","val","replace","splitted","split","Math","max","min","floor","concat","clear","ctx","_ctx$canvas","canvas","height","width","fillStyle","fillRect","cptTmp","diplayImages","state","drawImage","console","log","joueur","pos","x","y","computeColor","life","maxLife","baseColor","render","plats","i","longueur","largeur"],"sources":["/Users/giulianicarla/Documents/GitHub/CPA/src/components/canvas/renderer.ts"],"sourcesContent":["import * as conf from './conf'\nimport { State } from './state'\nimport * as jeu from './game'\n\nimport {walkcycle,rotate} from './state'\n\nimport imageSol from './images/sol.png'\nimport imageCoeur from './images/coeur.png'\nimport imagePerso from './images/megaMan_static1.png'\nimport fond1 from './images/background_1.png'\nimport fond2 from './images/background_2.png'\nimport fond3 from './images/background_3.png'\nimport fond4 from './images/background_4.png'\n\nimport marche1 from './images/megaMan_run1.png'\nimport marche2 from './images/megaMan_run2.png'\nimport marche3 from './images/megaMan_run3.png'\nimport marche4 from './images/megaMan_run4.png'\n\nimport pf from './images/plateforme_city.png'\n\nconst COLORS = {\n  RED: '#ff0000',\n  GREEN: '#008800',\n  BLUE: '#0000ff',\n}\n\nlet oldrotate = false\n\nlet frame = 0\n\nexport var dimPersoX = 120\nexport var dimPersoY = 120\n\nlet stateImageSol = false\nlet stateImageCoeur = false\nlet stateImagePerso = false\nlet stateFond = false\n\nconst imageCoeurUrl = new Image();\nconst imageSolUrl = new Image();\nconst imagePersoUrl = new Image();\nconst imageFond1Url = new Image();\nconst imageFond2Url = new Image();\nconst imageFond3Url = new Image();\nconst imageFond4Url = new Image();\nconst imageMarche1Url = new Image();\nconst imageMarche2Url = new Image();\nconst imageMarche3Url = new Image();\nconst imageMarche4Url = new Image();\nconst imagePF = new Image();\n\nimagePF.src = pf;\nimageCoeurUrl.src = imageCoeur;\nimageSolUrl.src = imageSol;\nimagePersoUrl.src = imagePerso;\nimageFond1Url.src = fond1;\nimageFond2Url.src = fond2;\nimageFond3Url.src = fond3;\nimageFond4Url.src = fond4;\nimageMarche1Url.src = marche1;\nimageMarche2Url.src = marche2;\nimageMarche3Url.src = marche3;\nimageMarche4Url.src = marche4;\n\nimageSolUrl.onload = () => {\n  stateImageSol = true\n}\n\nimageCoeurUrl.onload = () => {\n  stateImageCoeur = true\n}\n\nimagePersoUrl.onload = () => {\n  stateImagePerso = true\n}\n\nimageFond1Url.onload = () => {\n  stateFond = true\n}\n\n\nconst toDoubleHexa = (n: number) =>\n  n < 16 ? '0' + n.toString(16) : n.toString(16)\n\nexport const rgbaTorgb = (rgb: string, alpha = 0) => {\n  let r = 0\n  let g = 0\n  let b = 0\n  if (rgb.startsWith('#')) {\n    const hexR = rgb.length === 7 ? rgb.slice(1, 3) : rgb[1]\n    const hexG = rgb.length === 7 ? rgb.slice(3, 5) : rgb[2]\n    const hexB = rgb.length === 7 ? rgb.slice(5, 7) : rgb[3]\n    r = parseInt(hexR, 16)\n    g = parseInt(hexG, 16)\n    b = parseInt(hexB, 16)\n  }\n  if (rgb.startsWith('rgb')) {\n    const val = rgb.replace(/(rgb)|\\(|\\)| /g, '')\n    const splitted = val.split(',')\n    r = parseInt(splitted[0])\n    g = parseInt(splitted[1])\n    b = parseInt(splitted[2])\n  }\n\n  r = Math.max(Math.min(Math.floor((1 - alpha) * r + alpha * 255), 255), 0)\n  g = Math.max(Math.min(Math.floor((1 - alpha) * g + alpha * 255), 255), 0)\n  b = Math.max(Math.min(Math.floor((1 - alpha) * b + alpha * 255), 255), 0)\n  return `#${toDoubleHexa(r)}${toDoubleHexa(g)}${toDoubleHexa(b)}`\n}\n\nconst clear = (ctx: CanvasRenderingContext2D) => {\n  const { height, width } = ctx.canvas\n  ctx.fillStyle = 'white'\n  ctx.fillRect(0, 0, width, height)\n}\n/*\nexport type RenderProps = {\n  pos: { x: number; y: number }\n  scale: number\n}\n\nconst drawCirle = (\n  ctx: CanvasRenderingContext2D,\n  renderProps: RenderProps,\n  { x, y }: { x: number; y: number },\n  color: string\n) => {\n  ctx.beginPath()\n  ctx.fillStyle = color\n  ctx.arc(\n    (x + renderProps.pos.x) * renderProps.scale,\n    (y + renderProps.pos.y) * renderProps.scale,\n    conf.RADIUS * renderProps.scale,\n    0,\n    2 * Math.PI\n  )\n  ctx.fill()\n}*/\nlet cptTmp = 0\nconst diplayImages = (ctx: CanvasRenderingContext2D) => (state: State) => {\n  \n  \n  /*ctx.font = '96px arial'\n  ctx.strokeText(`life ${state.player.life}`, 20, 100)\n  ctx.strokeText(\n    `balls life ${state.pos\n      .map((p) => p.life)\n      .reduce((acc, val) => acc + val, 0)}`,\n    20,\n    200\n  )*/\n  if(stateFond){\n    if(frame<5)\n      ctx.drawImage(imageFond1Url,0,-200,1400,1000)\n    else if (frame>=5 && frame < 10)\n      ctx.drawImage(imageFond2Url,0,-200,1400,1000)\n    else if (frame>=10 && frame < 15)\n      ctx.drawImage(imageFond3Url,0,-200,1400,1000)\n    else{\n      ctx.drawImage(imageFond4Url,0,-200,1400,1000)\n    }\n  }\n  if(stateImageSol)\n    ctx.drawImage(imageSolUrl,0,680,500,100);\n    ctx.drawImage(imageSolUrl,495,680,500,100);\n    ctx.drawImage(imageSolUrl,990,680,500,100);\n\n  if(stateImageCoeur)\n    ctx.drawImage(imageCoeurUrl,10,10,50,50);\n    ctx.drawImage(imageCoeurUrl,70,10,50,50);\n    ctx.drawImage(imageCoeurUrl,130,10,50,50);\n\n  if(stateImagePerso){\n    \n\n    console.log(\"frame: \" + cptTmp)\n    if(walkcycle==false){\n      cptTmp = 0\n      //if(rotate == true){\n        //todo\n      //else{\n        ctx.drawImage(imagePersoUrl,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX,dimPersoY);\n      //}\n      \n    }\n    else{\n      cptTmp= (cptTmp+1)%60\n      if(cptTmp<15)\n        ctx.drawImage(imageMarche1Url,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX,dimPersoY)\n      else if (cptTmp>=15 && cptTmp < 30)\n        ctx.drawImage(imageMarche2Url,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX-30,dimPersoY)\n      else if (cptTmp>=30 && cptTmp < 45)\n        ctx.drawImage(imageMarche3Url,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX,dimPersoY)\n      else{\n        ctx.drawImage(imageMarche4Url,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX-30,dimPersoY)\n      }\n    }\n    \n    \n  }\n\n/* Pour image run vers la droite :  \ncontext.translate(state.joueur.pos.x + 50, state.joueur.pos.y + 50);\ncontext.rotate(Math.PI/2);\ncontext.drawImage(imageMarche1Url, -100 / 2, -100/ 2, 100,100);\n*/\n\n/* décider si faire variable stateJoueurGauche et stateJoueurDroite  */\n\n  \n\n}\n\nconst computeColor = (life: number, maxLife: number, baseColor: string) =>\n  rgbaTorgb(baseColor, (maxLife - life) * (1 / maxLife))\n\nexport const render =\n  (ctx: CanvasRenderingContext2D/*, props: RenderProps*/, plats: Array<jeu.Plateforme>) => (state: State) => {\n    clear(ctx)\n    frame ++\n    frame = frame%20\n\n    diplayImages(ctx)(state)\n    /*state.pos.map((c) =>\n      drawCirle(\n        ctx,\n        props,\n        c.coord,\n        computeColor(c.life, conf.BALLLIFE, COLORS.GREEN)\n      )\n    )\n    drawCirle(\n      ctx,\n      props,\n      state.player.coord,\n      computeColor(state.player.life, conf.PLAYERLIFE, COLORS.BLUE)\n    )*/\n    for(let i = 0; i<plats.length; i++){\n      ctx.drawImage(imagePF,plats[i].x, plats[i].y, plats[i].longueur, plats[i].largeur)\n      //ctx.fillStyle = 'red'\n      //ctx.fillRect(plats[i].x, plats[i].y, plats[i].longueur, plats[i].largeur)\n    }\n    \n    //console.log(plats[0][0])\n    \n    /*if (state.endOfGame) {\n      const text = 'END'\n      ctx.font = '48px'\n      ctx.strokeText(text, state.size.width / 2 - 100, state.size.height / 2)\n    }*/\n  }\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}