{"ast":null,"code":"import _objectSpread from \"/home/CPA/CPA/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as jeu from './game';\nimport { dimPersoX, dimPersoY } from './renderer';\nexport var walkcycle = false;\nexport var rotate = false;\nexport var walkcycleEnnemis = false;\nexport var rotateEnnemis = false;\nvar jump = function jump(state) {\n  return state.joueur.velY = -20;\n};\nvar cpt = 0;\nvar t = 0.0;\nvar currentTime = Date.now();\nvar gravity = 1.25;\nvar auSol = false;\nvar currenty = 0;\nvar previousy = 0;\nvar invincible = false;\nvar invulnCpt = 0;\nvar reload = 0;\nexport var collide_plat = function collide_plat(state) {\n  console.log(state.joueur.pos.x + \" \" + state.joueur.pos.y);\n  for (var i = 0; i < state.platforms.length; i++) {\n    /*gauche*/\n    if (state.joueur.pos.x + dimPersoX / 2 > state.platforms[i].x && state.joueur.pos.y + dimPersoY / 2 >= state.platforms[i].y && state.joueur.pos.y - dimPersoY / 2 <= state.platforms[i].y + state.platforms[i].largeur && state.joueur.pos.x + dimPersoX / 2 < state.platforms[i].x + 10) {\n      state.joueur.pos.x = state.platforms[i].x - dimPersoX / 2;\n    }\n    /*droite*/\n    if (state.joueur.pos.x - dimPersoX / 2 < state.platforms[i].x + state.platforms[i].longueur && state.joueur.pos.y + dimPersoY / 2 >= state.platforms[i].y && state.joueur.pos.y - dimPersoY / 2 <= state.platforms[i].y + state.platforms[i].largeur && state.joueur.pos.x - dimPersoX / 2 > state.platforms[i].x + state.platforms[i].longueur - 10) {\n      state.joueur.pos.x = state.platforms[i].x + state.platforms[i].longueur + dimPersoX / 2;\n    }\n    /*bas*/\n    if (state.joueur.pos.y - dimPersoY / 2 < state.platforms[i].y + state.platforms[i].largeur && state.joueur.pos.x + dimPersoX / 2 > state.platforms[i].x && state.joueur.pos.x - dimPersoX / 2 < state.platforms[i].x + state.platforms[i].longueur && state.joueur.pos.y + dimPersoY / 2 > state.platforms[i].y + state.platforms[i].largeur - 35) {\n      state.joueur.pos.y = state.platforms[i].y + state.platforms[i].largeur + dimPersoY / 2;\n    }\n\n    /*haut*/\n    if (state.joueur.pos.y + dimPersoY / 2 > state.platforms[i].y && state.joueur.pos.x + dimPersoX / 2 > state.platforms[i].x && state.joueur.pos.x - dimPersoX / 2 < state.platforms[i].x + state.platforms[i].longueur && state.joueur.pos.y - dimPersoY / 2 < state.platforms[i].y + 35) {\n      state.joueur.pos.y = state.platforms[i].y - dimPersoY / 2;\n      state.joueur.velY = 0;\n    }\n  }\n};\nexport var collide_ennemi = function collide_ennemi(state) {\n  if (invincible) {\n    invulnCpt++;\n  }\n  if (invulnCpt > 100) invincible = false;\n  for (var i = 0; i < state.ennemis.length; i++) {\n    if (state.joueur.pos.x + dimPersoX / 2 > state.ennemis[i].x && state.joueur.pos.y + dimPersoY / 2 >= state.ennemis[i].y && state.joueur.pos.y - dimPersoY / 2 <= state.ennemis[i].y + 80 && state.joueur.pos.x + dimPersoX / 2 < state.ennemis[i].x + 10) {\n      if (!invincible) {\n        state.joueur.HP--;\n        if (state.joueur.HP < 0) state.joueur.HP = 0;\n        invincible = true;\n        invulnCpt = 0;\n      }\n    }\n    if (state.joueur.pos.x - dimPersoX / 2 < state.ennemis[i].x + 80 && state.joueur.pos.y + dimPersoY / 2 >= state.ennemis[i].y && state.joueur.pos.y - dimPersoY / 2 <= state.ennemis[i].y + 80 && state.joueur.pos.x - dimPersoX / 2 > state.ennemis[i].x + 80 - 10) {\n      if (!invincible) {\n        state.joueur.HP--;\n        if (state.joueur.HP < 0) state.joueur.HP = 0;\n        invincible = true;\n        invulnCpt = 0;\n      }\n    }\n    if (state.joueur.pos.y - dimPersoY / 2 < state.ennemis[i].y + 80 && state.joueur.pos.x + dimPersoX / 2 > state.ennemis[i].x + 10 && state.joueur.pos.x - dimPersoX / 2 < state.ennemis[i].x + 80 && state.joueur.pos.y + dimPersoY / 2 > state.ennemis[i].y + 80 - 40) {\n      if (!invincible) {\n        state.joueur.HP--;\n        if (state.joueur.HP < 0) state.joueur.HP = 0;\n        invincible = true;\n        invulnCpt = 0;\n      }\n    }\n    if (state.joueur.pos.y + dimPersoY / 2 > state.ennemis[i].y && state.joueur.pos.x + dimPersoX / 2 > state.ennemis[i].x + 10 && state.joueur.pos.x - dimPersoX / 2 < state.ennemis[i].x + 80 && state.joueur.pos.y - dimPersoY / 2 < state.ennemis[i].y + 40) {\n      if (!invincible) {\n        state.joueur.HP--;\n        if (state.joueur.HP < 0) state.joueur.HP = 0;\n        invincible = true;\n        invulnCpt = 0;\n      }\n    }\n  }\n};\nexport var collide_platEnnemis = function collide_platEnnemis(state) {\n  for (var i = 0; i < state.platforms.length; i++) {\n    for (var j = 0; j < state.ennemis.length; j++) {\n      /*gauche*/\n      if (state.ennemis[j].x + 80 > state.platforms[i].x && state.ennemis[j].y + 80 / 2 >= state.platforms[i].y && state.ennemis[j].y - 80 / 2 <= state.platforms[i].y + state.platforms[i].largeur && state.ennemis[j].x + 80 / 2 < state.platforms[i].x + 10) {\n        state.ennemis[j].x = state.platforms[i].x - 80 / 2;\n        state.ennemis[j].speed = -state.ennemis[j].speed;\n        //rotation si collision\n        if (state.ennemis[j].rotate == true) state.ennemis[j].rotate = false;else state.ennemis[j].rotate = true;\n      }\n      /*droite*/\n      if (state.ennemis[j].x - 80 / 2 < state.platforms[i].x + state.platforms[i].longueur && state.ennemis[j].y + 80 / 2 >= state.platforms[i].y && state.ennemis[j].y - 80 / 2 <= state.platforms[i].y + state.platforms[i].largeur && state.ennemis[j].x - 80 / 2 > state.platforms[i].x + state.platforms[i].longueur - 10) {\n        state.ennemis[j].x = state.platforms[i].x + state.platforms[i].longueur + 80 / 2;\n        state.ennemis[j].speed = -state.ennemis[j].speed;\n        //rotation si collision\n        if (state.ennemis[j].rotate == true) state.ennemis[j].rotate = false;else state.ennemis[j].rotate = true;\n      }\n      /*bas*/\n      if (state.ennemis[j].y - 80 / 2 < state.platforms[i].y + state.platforms[i].largeur && state.ennemis[j].x + 80 / 2 > state.platforms[i].x && state.ennemis[j].x - 80 / 2 < state.platforms[i].x + state.platforms[i].longueur && state.ennemis[j].y + 80 / 2 > state.platforms[i].y + state.platforms[i].largeur - 35) {\n        state.ennemis[j].y = state.platforms[i].y + state.platforms[i].largeur + 80 / 2;\n      }\n\n      /*haut*/\n      if (state.ennemis[j].y + 80 / 2 > state.platforms[i].y && state.ennemis[j].x + 80 / 2 > state.platforms[i].x && state.ennemis[j].x - 80 / 2 < state.platforms[i].x + state.platforms[i].longueur && state.ennemis[j].y - 80 / 2 < state.platforms[i].y + 35) {\n        state.ennemis[j].y = state.platforms[i].y - 80 / 2;\n        state.joueur.velY = 0;\n      }\n    }\n  }\n};\n\n//Verification de collision entre les balles et les ennemis ou plateformes\nvar collide_balle = function collide_balle(state, i) {\n  for (var j = 0; j < state.ennemis.length; j++) {\n    if (state.balle[i].x + 25 / 2 > state.ennemis[j].x && state.balle[i].x + 25 / 2 < state.ennemis[j].x + 80 && state.balle[i].y + 25 / 2 > state.ennemis[j].y && state.balle[i].y + 25 / 2 < state.ennemis[j].y + 80) {\n      state.ennemis[j].HP--;\n      return true;\n    }\n  }\n  for (var _j = 0; _j < state.platforms.length; _j++) {\n    if (state.balle[i].x + 25 / 2 > state.platforms[_j].x && state.balle[i].x + 25 / 2 < state.platforms[_j].x + state.platforms[_j].longueur && state.balle[i].y + 25 / 2 > state.platforms[_j].y && state.balle[i].y + 25 / 2 < state.platforms[_j].y + state.platforms[_j].largeur) {\n      return true;\n    }\n  }\n  return false;\n};\nvar update_balles = function update_balles(state) {\n  for (var i = 0; i < state.balle.length; i++) {\n    state.balle[i].x += state.balle[i].speed * state.balle[i].rotation;\n    state.balle[i].dist_parcouru += state.balle[i].speed * state.balle[i].rotation;\n    //on retire la balle de la liste quand la distance est parcourue ou s'il y a collision\n    if (Math.abs(state.balle[i].dist_parcouru) > state.balle[i].dist_max || collide_balle(state, i)) {\n      state.balle.splice(i, 1);\n    }\n  }\n  if (reload != 0) {\n    reload = (reload + 1) % 20;\n  }\n};\nexport var step = function step(state) {\n  console.log(state.platforms);\n  currenty = state.joueur.pos.y;\n  var newTime = Date.now();\n  var frameTime = newTime - currentTime;\n  currentTime = newTime;\n  update_balles(state);\n\n  //if (frameTime > 1000/60) {\n\n  //newTime = currentTime - (frameTime % (1000/60));\n\n  document.addEventListener('keydown', function (event) {\n    var name = event.key;\n    if (name === ' ' && reload == 0) {\n      reload = 1;\n      if (rotate) {\n        state.balle.push(new jeu.Balle({\n          x: state.joueur.pos.x + dimPersoX - 50,\n          y: state.joueur.pos.y,\n          speed: 14,\n          dist_parcouru: 0,\n          dist_max: 500,\n          rotation: 1\n        }));\n      } else {\n        state.balle.push(new jeu.Balle({\n          x: state.joueur.pos.x - dimPersoX + 40,\n          y: state.joueur.pos.y,\n          speed: 14,\n          dist_parcouru: 0,\n          dist_max: 500,\n          rotation: -1\n        }));\n      }\n    }\n    if (name === 'z') {\n      if (auSol) {\n        jump(state);\n        //state.joueur.velY = -7;\n      }\n      //state.joueur.pos = perso.moveUp(state.joueur,frameTime)\n    }\n    /*\n    if(name==='s'){\n      if (state.joueur.velY < state.joueur.speed) {\n        state.joueur.velY=7;\n      }\n       //state.joueur.pos=perso.moveDown(state.joueur,frameTime)\n    }\n    */\n    if (name === 'q') {\n      if (state.joueur.velX > -state.joueur.speed) {\n        state.joueur.velX = -state.joueur.speed + 3;\n        walkcycle = true;\n        if (rotate == true) rotate = false;\n      }\n      //state.joueur.pos= perso.moveLeft(state.joueur,frameTime)\n    }\n\n    if (name === 'd') {\n      if (state.joueur.velX < state.joueur.speed) {\n        state.joueur.velX = state.joueur.speed - 3;\n        walkcycle = true;\n        if (rotate == false) rotate = true;\n      }\n      // state.joueur.pos= perso.moveRight(state.joueur,frameTime)\n    }\n  }, false);\n  document.addEventListener('keyup', function (event) {\n    var name = event.key;\n\n    /*if(name==='z'){\n      if (state.joueur.velY > -state.joueur.speed) {\n        state.joueur.velY = 0;\n      }\n      //state.joueur.pos = perso.moveUp(state.joueur,frameTime)\n    }\n    if(name==='s'){\n      if (state.joueur.velY < state.joueur.speed) {\n        state.joueur.velY=0;\n      }\n       //state.joueur.pos=perso.moveDown(state.joueur,frameTime)\n    }*/\n    if (name === 'q') {\n      if (state.joueur.velX > -state.joueur.speed) {\n        state.joueur.velX = 0;\n        walkcycle = false;\n      }\n      //state.joueur.pos= perso.moveLeft(state.joueur,frameTime)\n    }\n\n    if (name === 'd') {\n      if (state.joueur.velX < state.joueur.speed) {\n        state.joueur.velX = 0;\n        walkcycle = false;\n      }\n      // state.joueur.pos= perso.moveRight(state.joueur,frameTime)\n    }\n  }, false);\n\n  //}\n\n  //state.joueur.velY *= friction;\n  state.joueur.pos.y += state.joueur.velY;\n  //state.joueur.velX *= friction;\n  state.joueur.pos.x += state.joueur.velX;\n  state.joueur.velY += gravity;\n  if (state.joueur.pos.y > 635) {\n    state.joueur.pos.y = 635;\n  }\n\n  //deplacement Ennemis\n  for (var j = 0; j < state.ennemis.length; j++) {\n    console.log(state.ennemis[j].HP);\n\n    //on verifie si l'ennemi doit changer de direction car il a parcouru sa distance\n    if (Math.abs(state.ennemis[j].dist_parcouru) > state.ennemis[j].dist_max) {\n      state.ennemis[j].speed = -state.ennemis[j].speed;\n      state.ennemis[j].dist_parcouru;\n      if (state.ennemis[j].rotate == true) state.ennemis[j].rotate = false;else state.ennemis[j].rotate = true;\n    }\n    state.ennemis[j].velX = state.ennemis[j].speed;\n    walkcycleEnnemis = true;\n    if (state.ennemis[j].type != 'volant') {\n      state.ennemis[j].y += state.ennemis[j].velY;\n      state.ennemis[j].velY += gravity;\n    }\n    state.ennemis[j].x += state.ennemis[j].velX;\n    //distance parcourue\n    state.ennemis[j].dist_parcouru += state.ennemis[j].velX;\n    if (state.ennemis[j].y > 612) {\n      state.ennemis[j].y = 612;\n    }\n\n    //on verifie si l'ennemi doit changer de direction car il a recnontré une plateforme\n    collide_platEnnemis(state);\n  }\n  collide_plat(state);\n  collide_ennemi(state);\n  if (currenty == previousy) {\n    auSol = true;\n  } else {\n    auSol = false;\n  }\n  previousy = currenty;\n\n  //mouvement Camera\n  if (state.joueur.pos.x > 700) {\n    state.camera.x = state.joueur.pos.x;\n    state.camera.y = state.joueur.pos.y;\n  }\n  return _objectSpread({}, state);\n};\nexport var stepAuto = function stepAuto(state) {\n  return _objectSpread({}, state);\n};\nexport var mouseMove = function mouseMove(state) {\n  return function (event) {\n    return state;\n  };\n};\nexport var endOfGame = function endOfGame(state) {\n  return state.joueur.HP > 0;\n};","map":{"version":3,"names":["jeu","dimPersoX","dimPersoY","walkcycle","rotate","walkcycleEnnemis","rotateEnnemis","jump","state","joueur","velY","cpt","t","currentTime","Date","now","gravity","auSol","currenty","previousy","invincible","invulnCpt","reload","collide_plat","console","log","pos","x","y","i","platforms","length","largeur","longueur","collide_ennemi","ennemis","HP","collide_platEnnemis","j","speed","collide_balle","balle","update_balles","rotation","dist_parcouru","Math","abs","dist_max","splice","step","newTime","frameTime","document","addEventListener","event","name","key","push","Balle","velX","type","camera","_objectSpread","stepAuto","mouseMove","endOfGame"],"sources":["/home/CPA/CPA/src/components/canvas/state.ts"],"sourcesContent":["import * as conf from './conf'\nimport * as jeu from './game'\n\nimport { dimPersoX , dimPersoY} from './renderer'\n\ntype Player = jeu.Player\ntype Platform = jeu.Plateforme\ntype Camera = jeu.Camera\ntype Ennemi = jeu.Ennemi\ntype Balle = jeu.Balle\n\nexport type State = {\n  endOfGame: boolean\n  joueur : Player\n  platforms: Array<Platform>\n  camera: Camera\n  ennemis: Array<Ennemi>\n  balle: Array<Balle>\n}\n\nexport var walkcycle = false\n\nexport var rotate = false\n\nexport var walkcycleEnnemis = false\n\nexport var rotateEnnemis = false\n\nconst jump = (state: State) =>\n  state.joueur.velY = -20;\n\n\nlet cpt = 0\n\nlet t = 0.0;\n\nlet currentTime = Date.now()\n\nlet gravity = 1.25\n\nlet auSol = false\n\nlet currenty = 0\n\nlet previousy = 0\n\nlet invincible = false\nlet invulnCpt = 0\n\nlet reload = 0\n\nexport const collide_plat = (state: State) => {\n  console.log(state.joueur.pos.x +\" \"+ state.joueur.pos.y )\n  for(let i=0; i<state.platforms.length;i++){\n\n    /*gauche*/\n    if (state.joueur.pos.x+dimPersoX/2 > state.platforms[i].x && state.joueur.pos.y+dimPersoY/2 >=state.platforms[i].y \n      && state.joueur.pos.y - dimPersoY/2 <=(state.platforms[i].y + state.platforms[i].largeur)&& state.joueur.pos.x+dimPersoX/2 <(state.platforms[i].x +10)){\n        state.joueur.pos.x =state.platforms[i].x-dimPersoX/2;\n    }\n    /*droite*/\n    if (state.joueur.pos.x-dimPersoX/2 < (state.platforms[i].x +state.platforms[i].longueur )&& state.joueur.pos.y+dimPersoY/2 >=state.platforms[i].y \n      && state.joueur.pos.y - dimPersoY/2 <=(state.platforms[i].y + state.platforms[i].largeur) && state.joueur.pos.x-dimPersoX/2 > (state.platforms[i].x +state.platforms[i].longueur -10) ){\n        state.joueur.pos.x =state.platforms[i].x +state.platforms[i].longueur+dimPersoX/2;\n    }\n    /*bas*/\n    if (state.joueur.pos.y-dimPersoY/2 < (state.platforms[i].y+state.platforms[i].largeur) && state.joueur.pos.x+dimPersoX/2 >state.platforms[i].x \n      && state.joueur.pos.x-dimPersoX/2<(state.platforms[i].x + state.platforms[i].longueur)&& state.joueur.pos.y+dimPersoY/2> (state.platforms[i].y+state.platforms[i].largeur-35)){\n        state.joueur.pos.y =state.platforms[i].y + state.platforms[i].largeur + dimPersoY/2;\n    }\n    \n    /*haut*/\n    if (state.joueur.pos.y+dimPersoY/2 > state.platforms[i].y && state.joueur.pos.x+dimPersoX/2 > state.platforms[i].x \n      && state.joueur.pos.x-dimPersoX/2 < (state.platforms[i].x + state.platforms[i].longueur) && (state.joueur.pos.y-dimPersoY/2 <state.platforms[i].y +35)){\n        state.joueur.pos.y =state.platforms[i].y-dimPersoY/2;\n        state.joueur.velY=0;\n    }\n  }\n}\n  export const collide_ennemi = (state: State) => {\n    if(invincible){\n      invulnCpt++\n    }\n    if(invulnCpt>100)\n      invincible = false\n    \n    for(let i=0; i<state.ennemis.length;i++){\n  \n      \n      if (state.joueur.pos.x+dimPersoX/2 > state.ennemis[i].x && state.joueur.pos.y+dimPersoY/2 >=state.ennemis[i].y \n        && state.joueur.pos.y - dimPersoY/2 <=(state.ennemis[i].y + 80)&& state.joueur.pos.x+dimPersoX/2 <(state.ennemis[i].x +10)){\n          if(!invincible){\n            state.joueur.HP--;\n            if(state.joueur.HP<0)\n              state.joueur.HP=0;\n            invincible = true\n            invulnCpt=0;\n          }\n          \n\n      }\n      \n      if (state.joueur.pos.x-dimPersoX/2 < (state.ennemis[i].x +80 )&& state.joueur.pos.y+dimPersoY/2 >=state.ennemis[i].y \n        && state.joueur.pos.y - dimPersoY/2 <=(state.ennemis[i].y + 80) && state.joueur.pos.x-dimPersoX/2 > (state.ennemis[i].x +80-10) ){\n          if(!invincible){\n            state.joueur.HP--;\n            if(state.joueur.HP<0)\n              state.joueur.HP=0;\n            invincible = true\n            invulnCpt=0;\n          }\n      }\n      \n      if (state.joueur.pos.y-dimPersoY/2 < (state.ennemis[i].y+80) && state.joueur.pos.x+dimPersoX/2 >state.ennemis[i].x +10\n        && state.joueur.pos.x-dimPersoX/2<(state.ennemis[i].x + 80)&& state.joueur.pos.y+dimPersoY/2> (state.ennemis[i].y+80-40)){\n          if(!invincible){\n            state.joueur.HP--;\n            if(state.joueur.HP<0)\n              state.joueur.HP=0;\n            invincible = true\n            invulnCpt=0;\n          }\n      }\n      \n      \n      if (state.joueur.pos.y+dimPersoY/2 > state.ennemis[i].y && state.joueur.pos.x+dimPersoX/2 > state.ennemis[i].x +10\n        && state.joueur.pos.x-dimPersoX/2 < (state.ennemis[i].x + 80) && (state.joueur.pos.y-dimPersoY/2 <state.ennemis[i].y +40)){\n          if(!invincible){\n            state.joueur.HP--;\n            if(state.joueur.HP<0)\n              state.joueur.HP=0;\n            invincible = true\n            invulnCpt=0;\n          }\n      }\n    }\n\n}\n\nexport const collide_platEnnemis = (state: State) => {\n  for(let i=0; i<state.platforms.length;i++){\n    for(let j=0; j<state.ennemis.length;j++){\n      /*gauche*/\n      if (state.ennemis[j].x+80 > state.platforms[i].x && state.ennemis[j].y+80/2 >=state.platforms[i].y \n        && state.ennemis[j].y - 80/2 <=(state.platforms[i].y + state.platforms[i].largeur)&& state.ennemis[j].x+80/2 <(state.platforms[i].x +10)){\n          state.ennemis[j].x =state.platforms[i].x-80/2;\n          state.ennemis[j].speed = -state.ennemis[j].speed;\n          //rotation si collision\n          if(state.ennemis[j].rotate == true)\n            state.ennemis[j].rotate = false;\n          else\n            state.ennemis[j].rotate = true\n      }\n      /*droite*/\n      if (state.ennemis[j].x-80/2 < (state.platforms[i].x +state.platforms[i].longueur )&& state.ennemis[j].y+80/2 >=state.platforms[i].y \n        && state.ennemis[j].y - 80/2 <=(state.platforms[i].y + state.platforms[i].largeur) && state.ennemis[j].x-80/2 > (state.platforms[i].x +state.platforms[i].longueur -10) ){\n          state.ennemis[j].x =state.platforms[i].x +state.platforms[i].longueur+80/2;\n          state.ennemis[j].speed = -state.ennemis[j].speed;\n          //rotation si collision\n          if(state.ennemis[j].rotate == true)\n            state.ennemis[j].rotate = false;\n          else\n            state.ennemis[j].rotate = true\n      }\n      /*bas*/\n      if (state.ennemis[j].y-80/2 < (state.platforms[i].y+state.platforms[i].largeur) && state.ennemis[j].x+80/2 >state.platforms[i].x \n        && state.ennemis[j].x-80/2<(state.platforms[i].x + state.platforms[i].longueur)&& state.ennemis[j].y+80/2> (state.platforms[i].y+state.platforms[i].largeur-35)){\n          state.ennemis[j].y =state.platforms[i].y + state.platforms[i].largeur + 80/2;\n      }\n      \n      /*haut*/\n      if (state.ennemis[j].y+80/2 > state.platforms[i].y && state.ennemis[j].x+80/2 > state.platforms[i].x \n        && state.ennemis[j].x-80/2 < (state.platforms[i].x + state.platforms[i].longueur) && (state.ennemis[j].y-80/2 <state.platforms[i].y +35)){\n          state.ennemis[j].y =state.platforms[i].y-80/2;\n          state.joueur.velY=0;\n      }\n    }\n  }\n}\n\n//Verification de collision entre les balles et les ennemis ou plateformes\nconst collide_balle = (state: State, i: number) =>{\n  for(let j=0; j<state.ennemis.length; j++){\n    if(state.balle[i].x+25/2>state.ennemis[j].x && state.balle[i].x+25/2<state.ennemis[j].x+80 && state.balle[i].y+25/2>state.ennemis[j].y && state.balle[i].y+25/2<state.ennemis[j].y+80){\n      state.ennemis[j].HP--\n      return true\n    }\n  }\n  for(let j=0; j<state.platforms.length; j++){\n    if(state.balle[i].x+25/2>state.platforms[j].x && state.balle[i].x+25/2<state.platforms[j].x+state.platforms[j].longueur && state.balle[i].y+25/2>state.platforms[j].y && state.balle[i].y+25/2<state.platforms[j].y+state.platforms[j].largeur){\n      return true\n    }\n  }\n  return false\n  \n}\n\nconst update_balles = (state: State) => {\n  for(let i=0; i<state.balle.length; i++){\n    state.balle[i].x+=state.balle[i].speed*state.balle[i].rotation\n    state.balle[i].dist_parcouru+=state.balle[i].speed*state.balle[i].rotation\n    //on retire la balle de la liste quand la distance est parcourue ou s'il y a collision\n    if((Math.abs(state.balle[i].dist_parcouru)>state.balle[i].dist_max) || collide_balle(state,i)){\n      state.balle.splice(i,1)\n    }\n  }\n  if (reload !=0){\n    reload = (reload+1)%20\n  }\n\n}\n\n\n\nexport const step = (state: State) => {\n  console.log(state.platforms)\n\n  currenty = state.joueur.pos.y\n\n  let newTime = Date.now();\n  let frameTime = newTime - currentTime;\n  currentTime = newTime;\n\n  update_balles(state);\n   \n\n\n\n  \n\n  //if (frameTime > 1000/60) {\n\n    //newTime = currentTime - (frameTime % (1000/60));\n\n    document.addEventListener('keydown', (event) => {\n      var name = event.key;\n      if(name===' ' && reload == 0){\n        reload = 1;\n        if(rotate){\n          state.balle.push(new jeu.Balle({x : state.joueur.pos.x+dimPersoX-50, y:state.joueur.pos.y, speed:14, dist_parcouru:0,dist_max:500,rotation:1}))\n        }\n        else{\n          state.balle.push(new jeu.Balle({x : state.joueur.pos.x-dimPersoX+40, y:state.joueur.pos.y, speed:14, dist_parcouru:0,dist_max:500,rotation:-1}))\n        }\n      \n      }\n  \n      if(name==='z'){\n        if (auSol) {\n          jump(state);\n          //state.joueur.velY = -7;\n        }\n        //state.joueur.pos = perso.moveUp(state.joueur,frameTime)\n      }\n      /*\n      if(name==='s'){\n        if (state.joueur.velY < state.joueur.speed) {\n          state.joueur.velY=7;\n        }\n         //state.joueur.pos=perso.moveDown(state.joueur,frameTime)\n      }\n      */\n      if(name==='q'){\n        if (state.joueur.velX > -state.joueur.speed) {\n          state.joueur.velX=-state.joueur.speed+3;\n          walkcycle = true;\n          if(rotate == true)\n            rotate = false\n        }\n         //state.joueur.pos= perso.moveLeft(state.joueur,frameTime)\n      }\n      if(name==='d'){\n        if (state.joueur.velX < state.joueur.speed) {\n          state.joueur.velX=state.joueur.speed-3;\n          walkcycle = true;\n          if(rotate == false)\n            rotate = true\n        }\n        // state.joueur.pos= perso.moveRight(state.joueur,frameTime)\n      }\n  \n    }, false);\n\n    document.addEventListener('keyup', (event) => {\n      var name = event.key;\n  \n      /*if(name==='z'){\n        if (state.joueur.velY > -state.joueur.speed) {\n          state.joueur.velY = 0;\n        }\n        //state.joueur.pos = perso.moveUp(state.joueur,frameTime)\n      }\n      if(name==='s'){\n        if (state.joueur.velY < state.joueur.speed) {\n          state.joueur.velY=0;\n        }\n         //state.joueur.pos=perso.moveDown(state.joueur,frameTime)\n      }*/\n      if(name==='q'){\n        if (state.joueur.velX > -state.joueur.speed) {\n          state.joueur.velX=0;\n          walkcycle = false\n        }\n         //state.joueur.pos= perso.moveLeft(state.joueur,frameTime)\n      }\n      if(name==='d'){\n        if (state.joueur.velX < state.joueur.speed) {\n          state.joueur.velX=0;\n          walkcycle = false\n        }\n        // state.joueur.pos= perso.moveRight(state.joueur,frameTime)\n      }\n  \n    }, false);\n\n\n  //}\n\n  //state.joueur.velY *= friction;\n  state.joueur.pos.y += state.joueur.velY;\n  //state.joueur.velX *= friction;\n  state.joueur.pos.x += state.joueur.velX;\n\n\n  \n  \n  state.joueur.velY += gravity;\n\n  if(state.joueur.pos.y > 635){\n    state.joueur.pos.y = 635\n  }\n\n  //deplacement Ennemis\n  for(let j=0; j<state.ennemis.length;j++){\n    console.log(state.ennemis[j].HP)\n    \n    //on verifie si l'ennemi doit changer de direction car il a parcouru sa distance\n    if(Math.abs(state.ennemis[j].dist_parcouru)>state.ennemis[j].dist_max){\n      state.ennemis[j].speed = -state.ennemis[j].speed;\n      state.ennemis[j].dist_parcouru\n      if(state.ennemis[j].rotate == true)\n        state.ennemis[j].rotate = false;\n      else\n        state.ennemis[j].rotate = true\n    }\n\n\n    state.ennemis[j].velX=state.ennemis[j].speed;\n    walkcycleEnnemis = true;\n    \n\n    if(state.ennemis[j].type != 'volant'){\n      state.ennemis[j].y += state.ennemis[j].velY;\n      state.ennemis[j].velY += gravity;\n    }\n\n    state.ennemis[j].x += state.ennemis[j].velX;\n    //distance parcourue\n    state.ennemis[j].dist_parcouru+=state.ennemis[j].velX;\n      \n\n    if(state.ennemis[j].y > 612){\n      state.ennemis[j].y = 612\n    }\n\n\n\n    //on verifie si l'ennemi doit changer de direction car il a recnontré une plateforme\n    collide_platEnnemis(state);\n  }\n\n\n  collide_plat(state);\n  collide_ennemi(state);\n  if(currenty == previousy){\n    auSol = true\n  }\n  else{\n    auSol = false\n  }\n\n  previousy = currenty\n\n  //mouvement Camera\n  if(state.joueur.pos.x>700){\n    state.camera.x = state.joueur.pos.x\n    state.camera.y = state.joueur.pos.y\n  }\n  \n\n  return {\n    ...state,\n    //player: iterate(state.joueur)(state.size)(state.player),\n    //pos: state.pos.map(iterate(state.joueur)(state.size)).filter((p) => p.life > 0),\n  }\n}\n\nexport const stepAuto = (state: State) => {\n\n  return {\n    ...state,\n    //player: iterate(state.joueur)(state.size)(state.player),\n    //pos: state.pos.map(iterate(state.joueur)(state.size)).filter((p) => p.life > 0),\n  }\n}\nexport const mouseMove =\n  (state: State) =>\n  (event: PointerEvent): State => {\n    return state\n  }\n\nexport const endOfGame = (state: State): boolean =>\n  state.joueur.HP > 0\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}