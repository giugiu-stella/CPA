{"ast":null,"code":"import { walkcycle, rotate, walkcycleEnnemis, rotateEnnemis } from './state';\nimport imageSol from './images/sol.png';\nimport imageCoeur from './images/coeur.png';\nimport imagePerso from './images/megaMan_static1.png';\nimport imagePersoD from './images/megaMan_static1_droite.png';\nimport fond1 from './images/background_1.png';\nimport fond2 from './images/background_2.png';\nimport fond3 from './images/background_3.png';\nimport fond4 from './images/background_4.png';\nimport marche1 from './images/megaMan_run1.png';\nimport marche2 from './images/megaMan_run2.png';\nimport marche3 from './images/megaMan_run3.png';\nimport marche4 from './images/megaMan_run4.png';\nimport marche1d from './images/megaMan_run1_droite.png';\nimport marche2d from './images/megaMan_run2_droite.png';\nimport marche3d from './images/megaMan_run3_droite.png';\nimport marche4d from './images/megaMan_run4_droite.png';\nimport ennemi1 from './images/enemy_boule/enemy_boule_3.png';\nimport pf from './images/plateforme_city.png';\nimport { ensEnnemis, ensPlat } from './index';\nvar COLORS = {\n  RED: '#ff0000',\n  GREEN: '#008800',\n  BLUE: '#0000ff'\n};\nvar oldrotate = false;\nvar frame = 0;\nexport var dimPersoX = 120;\nexport var dimPersoY = 120;\nvar stateImageSol = false;\nvar stateImageCoeur = false;\nvar stateImagePerso = false;\nvar stateFond = false;\nvar stateEnnemi = false;\nvar imageCoeurUrl = new Image();\nvar imageSolUrl = new Image();\nvar imagePersoUrl = new Image();\nvar imagePersoUrlD = new Image();\nvar imageFond1Url = new Image();\nvar imageFond2Url = new Image();\nvar imageFond3Url = new Image();\nvar imageFond4Url = new Image();\nvar imageMarche1Url = new Image();\nvar imageMarche2Url = new Image();\nvar imageMarche3Url = new Image();\nvar imageMarche4Url = new Image();\nvar imageMarche1DUrl = new Image();\nvar imageMarche2DUrl = new Image();\nvar imageMarche3DUrl = new Image();\nvar imageMarche4DUrl = new Image();\nvar imageEnnemi1Url = new Image();\nvar imagePF = new Image();\nimagePF.src = pf;\nimageCoeurUrl.src = imageCoeur;\nimageSolUrl.src = imageSol;\nimagePersoUrl.src = imagePerso;\nimagePersoUrlD.src = imagePersoD;\nimageFond1Url.src = fond1;\nimageFond2Url.src = fond2;\nimageFond3Url.src = fond3;\nimageFond4Url.src = fond4;\nimageMarche1Url.src = marche1;\nimageMarche2Url.src = marche2;\nimageMarche3Url.src = marche3;\nimageMarche4Url.src = marche4;\nimageMarche1DUrl.src = marche1d;\nimageMarche2DUrl.src = marche2d;\nimageMarche3DUrl.src = marche3d;\nimageMarche4DUrl.src = marche4d;\nimageEnnemi1Url.src = ennemi1;\nimageSolUrl.onload = function () {\n  stateImageSol = true;\n};\nimageCoeurUrl.onload = function () {\n  stateImageCoeur = true;\n};\nimagePersoUrl.onload = function () {\n  stateImagePerso = true;\n};\nimageFond1Url.onload = function () {\n  stateFond = true;\n};\nimageEnnemi1Url.onload = function () {\n  stateEnnemi = true;\n};\nvar toDoubleHexa = function toDoubleHexa(n) {\n  return n < 16 ? '0' + n.toString(16) : n.toString(16);\n};\nexport var rgbaTorgb = function rgbaTorgb(rgb) {\n  var alpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var r = 0;\n  var g = 0;\n  var b = 0;\n  if (rgb.startsWith('#')) {\n    var hexR = rgb.length === 7 ? rgb.slice(1, 3) : rgb[1];\n    var hexG = rgb.length === 7 ? rgb.slice(3, 5) : rgb[2];\n    var hexB = rgb.length === 7 ? rgb.slice(5, 7) : rgb[3];\n    r = parseInt(hexR, 16);\n    g = parseInt(hexG, 16);\n    b = parseInt(hexB, 16);\n  }\n  if (rgb.startsWith('rgb')) {\n    var val = rgb.replace(/(rgb)|\\(|\\)| /g, '');\n    var splitted = val.split(',');\n    r = parseInt(splitted[0]);\n    g = parseInt(splitted[1]);\n    b = parseInt(splitted[2]);\n  }\n  r = Math.max(Math.min(Math.floor((1 - alpha) * r + alpha * 255), 255), 0);\n  g = Math.max(Math.min(Math.floor((1 - alpha) * g + alpha * 255), 255), 0);\n  b = Math.max(Math.min(Math.floor((1 - alpha) * b + alpha * 255), 255), 0);\n  return \"#\".concat(toDoubleHexa(r)).concat(toDoubleHexa(g)).concat(toDoubleHexa(b));\n};\nvar clear = function clear(ctx) {\n  var _ctx$canvas = ctx.canvas,\n    height = _ctx$canvas.height,\n    width = _ctx$canvas.width;\n  ctx.fillStyle = 'white';\n  ctx.fillRect(0, 0, width, height);\n};\n\n/*\nexport type RenderProps = {\n  pos: { x: number; y: number }\n  scale: number\n}\n\nconst drawCirle = (\n  ctx: CanvasRenderingContext2D,\n  renderProps: RenderProps,\n  { x, y }: { x: number; y: number },\n  color: string\n) => {\n  ctx.beginPath()\n  ctx.fillStyle = color\n  ctx.arc(\n    (x + renderProps.pos.x) * renderProps.scale,\n    (y + renderProps.pos.y) * renderProps.scale,\n    conf.RADIUS * renderProps.scale,\n    0,\n    2 * Math.PI\n  )\n  ctx.fill()\n}*/\n\nvar cptTmp = 0;\nvar cptTmpEnnemis = 0;\nvar diplayImages = function diplayImages(ctx) {\n  return function (state) {\n    //on déplace la caméra en prenant le joueur comme réferentiel\n    ctx.save();\n    ctx.translate(-(state.camera.x - ctx.canvas.width / 2), 0);\n\n    /*Il faut s'assurer que tous les éléments du fond (points de vie etc.. suivent la caméra)\n      Mais que tous les éléments fixes (plateformes/ennemis ne la suivent pas)\n    */\n    if (stateFond) {\n      if (frame < 5) ctx.drawImage(imageFond1Url, state.camera.x - ctx.canvas.width / 2, -200, 1400, 1000);else if (frame >= 5 && frame < 10) ctx.drawImage(imageFond2Url, state.camera.x - ctx.canvas.width / 2, -200, 1400, 1000);else if (frame >= 10 && frame < 15) ctx.drawImage(imageFond3Url, state.camera.x - ctx.canvas.width / 2, -200, 1400, 1000);else {\n        ctx.drawImage(imageFond4Url, state.camera.x - ctx.canvas.width / 2, -200, 1400, 1000);\n      }\n    }\n    /*if(stateImageSol){\n      ctx.drawImage(imageSolUrl,0,680,500,100);\n      ctx.drawImage(imageSolUrl,495,680,500,100);\n      ctx.drawImage(imageSolUrl,990,680,500,100);\n    }*/\n    if (stateImageCoeur) ctx.drawImage(imageCoeurUrl, 10 + state.camera.x - ctx.canvas.width / 2, 10, 50, 50);\n    ctx.drawImage(imageCoeurUrl, 70 + state.camera.x - ctx.canvas.width / 2, 10, 50, 50);\n    ctx.drawImage(imageCoeurUrl, 130 + state.camera.x - ctx.canvas.width / 2, 10, 50, 50);\n\n    //affichage des plateformes\n    for (var i = 0; i < 20; i++) {\n      ctx.drawImage(imageSolUrl, i * 495, 680, 500, 100);\n    }\n    for (var _i = 0; _i < ensPlat.length; _i++) {\n      ctx.drawImage(imagePF, ensPlat[_i].x, ensPlat[_i].y, ensPlat[_i].longueur, ensPlat[_i].largeur);\n      //ctx.fillStyle = 'red'\n      //ctx.fillRect(plats[i].x, plats[i].y, plats[i].longueur, plats[i].largeur)\n    }\n\n    if (stateEnnemi) {\n      if (walkcycleEnnemis == false) {\n        cptTmpEnnemis = 0;\n        if (rotateEnnemis == true) {\n          for (var _i2 = 0; _i2 < ensEnnemis.length; _i2++) {\n            ctx.drawImage(imageEnnemi1Url, ensEnnemis[_i2].x, ensEnnemis[_i2].y, 80, 80);\n          }\n        } else {\n          for (var _i3 = 0; _i3 < ensEnnemis.length; _i3++) {\n            ctx.drawImage(imageEnnemi1Url, ensEnnemis[_i3].x, ensEnnemis[_i3].y, 80, 80);\n          }\n        }\n      } else {\n        if (rotateEnnemis == true) {\n          cptTmpEnnemis = (cptTmpEnnemis + 1) % 60;\n          if (cptTmpEnnemis < 15) for (var _i4 = 0; _i4 < ensEnnemis.length; _i4++) {\n            ctx.drawImage(imageEnnemi1Url, ensEnnemis[_i4].x, ensEnnemis[_i4].y, 80, 80);\n          } else if (cptTmpEnnemis >= 15 && cptTmpEnnemis < 30) for (var _i5 = 0; _i5 < ensEnnemis.length; _i5++) {\n            ctx.drawImage(imageEnnemi1Url, ensEnnemis[_i5].x, ensEnnemis[_i5].y, 80, 80);\n          } else if (cptTmp >= 30 && cptTmp < 45) for (var _i6 = 0; _i6 < ensEnnemis.length; _i6++) {\n            ctx.drawImage(imageEnnemi1Url, ensEnnemis[_i6].x, ensEnnemis[_i6].y, 80, 80);\n          } else {\n            for (var _i7 = 0; _i7 < ensEnnemis.length; _i7++) {\n              ctx.drawImage(imageEnnemi1Url, ensEnnemis[_i7].x, ensEnnemis[_i7].y, 80, 80);\n            }\n          }\n        } else {\n          cptTmpEnnemis = (cptTmpEnnemis + 1) % 60;\n          if (cptTmpEnnemis < 15) for (var _i8 = 0; _i8 < ensEnnemis.length; _i8++) {\n            ctx.drawImage(imageEnnemi1Url, ensEnnemis[_i8].x, ensEnnemis[_i8].y, 80, 80);\n          } else if (cptTmpEnnemis >= 15 && cptTmpEnnemis < 30) for (var _i9 = 0; _i9 < ensEnnemis.length; _i9++) {\n            ctx.drawImage(imageEnnemi1Url, ensEnnemis[_i9].x, ensEnnemis[_i9].y, 80, 80);\n          } else if (cptTmp >= 30 && cptTmp < 45) for (var _i10 = 0; _i10 < ensEnnemis.length; _i10++) {\n            ctx.drawImage(imageEnnemi1Url, ensEnnemis[_i10].x, ensEnnemis[_i10].y, 80, 80);\n          } else {\n            for (var _i11 = 0; _i11 < ensEnnemis.length; _i11++) {\n              ctx.drawImage(imageEnnemi1Url, ensEnnemis[_i11].x, ensEnnemis[_i11].y, 80, 80);\n            }\n          }\n        }\n      }\n    }\n    if (stateImagePerso) {\n      if (walkcycle == false) {\n        cptTmp = 0;\n        if (rotate == true) {\n          ctx.drawImage(imagePersoUrlD, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX, dimPersoY);\n        } else {\n          ctx.drawImage(imagePersoUrl, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX, dimPersoY);\n        }\n      } else {\n        if (rotate == true) {\n          cptTmp = (cptTmp + 1) % 60;\n          if (cptTmp < 15) ctx.drawImage(imageMarche1DUrl, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX, dimPersoY);else if (cptTmp >= 15 && cptTmp < 30) ctx.drawImage(imageMarche2DUrl, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX - 30, dimPersoY);else if (cptTmp >= 30 && cptTmp < 45) ctx.drawImage(imageMarche3DUrl, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX, dimPersoY);else {\n            ctx.drawImage(imageMarche4DUrl, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX - 30, dimPersoY);\n          }\n        } else {\n          cptTmp = (cptTmp + 1) % 60;\n          if (cptTmp < 15) ctx.drawImage(imageMarche1Url, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX, dimPersoY);else if (cptTmp >= 15 && cptTmp < 30) ctx.drawImage(imageMarche2Url, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX - 30, dimPersoY);else if (cptTmp >= 30 && cptTmp < 45) ctx.drawImage(imageMarche3Url, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX, dimPersoY);else {\n            ctx.drawImage(imageMarche4Url, state.joueur.pos.x - dimPersoX / 2, state.joueur.pos.y - dimPersoY / 2, dimPersoX - 30, dimPersoY);\n          }\n        }\n      }\n    }\n    ctx.restore();\n  };\n};\nvar computeColor = function computeColor(life, maxLife, baseColor) {\n  return rgbaTorgb(baseColor, (maxLife - life) * (1 / maxLife));\n};\nexport var render = function render(ctx, plats) {\n  return function (state) {\n    clear(ctx);\n    frame++;\n    frame = frame % 20;\n    diplayImages(ctx)(state);\n    /*state.pos.map((c) =>\n      drawCirle(\n        ctx,\n        props,\n        c.coord,\n        computeColor(c.life, conf.BALLLIFE, COLORS.GREEN)\n      )\n    )\n    drawCirle(\n      ctx,\n      props,\n      state.player.coord,\n      computeColor(state.player.life, conf.PLAYERLIFE, COLORS.BLUE)\n    )*/\n\n    //console.log(plats[0][0])\n\n    /*if (state.endOfGame) {\n      const text = 'END'\n      ctx.font = '48px'\n      ctx.strokeText(text, state.size.width / 2 - 100, state.size.height / 2)\n    }*/\n  };\n};","map":{"version":3,"names":["walkcycle","rotate","walkcycleEnnemis","rotateEnnemis","imageSol","imageCoeur","imagePerso","imagePersoD","fond1","fond2","fond3","fond4","marche1","marche2","marche3","marche4","marche1d","marche2d","marche3d","marche4d","ennemi1","pf","ensEnnemis","ensPlat","COLORS","RED","GREEN","BLUE","oldrotate","frame","dimPersoX","dimPersoY","stateImageSol","stateImageCoeur","stateImagePerso","stateFond","stateEnnemi","imageCoeurUrl","Image","imageSolUrl","imagePersoUrl","imagePersoUrlD","imageFond1Url","imageFond2Url","imageFond3Url","imageFond4Url","imageMarche1Url","imageMarche2Url","imageMarche3Url","imageMarche4Url","imageMarche1DUrl","imageMarche2DUrl","imageMarche3DUrl","imageMarche4DUrl","imageEnnemi1Url","imagePF","src","onload","toDoubleHexa","n","toString","rgbaTorgb","rgb","alpha","arguments","length","undefined","r","g","b","startsWith","hexR","slice","hexG","hexB","parseInt","val","replace","splitted","split","Math","max","min","floor","concat","clear","ctx","_ctx$canvas","canvas","height","width","fillStyle","fillRect","cptTmp","cptTmpEnnemis","diplayImages","state","save","translate","camera","x","drawImage","i","y","longueur","largeur","joueur","pos","restore","computeColor","life","maxLife","baseColor","render","plats"],"sources":["/home/yanis/FAC/cpaProjetFinal/CPA/src/components/canvas/renderer.ts"],"sourcesContent":["import * as conf from './conf'\nimport { State } from './state'\nimport * as jeu from './game'\n\nimport {walkcycle,rotate,walkcycleEnnemis,rotateEnnemis} from './state'\n\nimport imageSol from './images/sol.png'\nimport imageCoeur from './images/coeur.png'\nimport imagePerso from './images/megaMan_static1.png'\nimport imagePersoD from './images/megaMan_static1_droite.png'\nimport fond1 from './images/background_1.png'\nimport fond2 from './images/background_2.png'\nimport fond3 from './images/background_3.png'\nimport fond4 from './images/background_4.png'\n\nimport marche1 from './images/megaMan_run1.png'\nimport marche2 from './images/megaMan_run2.png'\nimport marche3 from './images/megaMan_run3.png'\nimport marche4 from './images/megaMan_run4.png'\n\nimport marche1d from './images/megaMan_run1_droite.png'\nimport marche2d from './images/megaMan_run2_droite.png'\nimport marche3d from './images/megaMan_run3_droite.png'\nimport marche4d from './images/megaMan_run4_droite.png'\nimport ennemi1 from './images/enemy_boule/enemy_boule_3.png'\nimport pf from './images/plateforme_city.png'\nimport imageMur from './images/mur.png'\n\nimport { ensEnnemis, ensPlat } from './index'\n\nconst COLORS = {\n  RED: '#ff0000',\n  GREEN: '#008800',\n  BLUE: '#0000ff',\n}\n\nlet oldrotate = false\n\nlet frame = 0\n\nexport var dimPersoX = 120\nexport var dimPersoY = 120\n\nlet stateImageSol = false\nlet stateImageCoeur = false\nlet stateImagePerso = false\nlet stateFond = false\nlet stateEnnemi=false\n\nconst imageCoeurUrl = new Image();\nconst imageSolUrl = new Image();\nconst imagePersoUrl = new Image();\nconst imagePersoUrlD = new Image();\nconst imageFond1Url = new Image();\nconst imageFond2Url = new Image();\nconst imageFond3Url = new Image();\nconst imageFond4Url = new Image();\nconst imageMarche1Url = new Image();\nconst imageMarche2Url = new Image();\nconst imageMarche3Url = new Image();\nconst imageMarche4Url = new Image();\nconst imageMarche1DUrl = new Image();\nconst imageMarche2DUrl = new Image();\nconst imageMarche3DUrl = new Image();\nconst imageMarche4DUrl = new Image();\nconst imageEnnemi1Url = new Image();\nconst imagePF = new Image();\n\nimagePF.src = pf;\nimageCoeurUrl.src = imageCoeur;\nimageSolUrl.src = imageSol;\nimagePersoUrl.src = imagePerso;\nimagePersoUrlD.src = imagePersoD;\nimageFond1Url.src = fond1;\nimageFond2Url.src = fond2;\nimageFond3Url.src = fond3;\nimageFond4Url.src = fond4;\nimageMarche1Url.src = marche1;\nimageMarche2Url.src = marche2;\nimageMarche3Url.src = marche3;\nimageMarche4Url.src = marche4;\nimageMarche1DUrl.src = marche1d;\nimageMarche2DUrl.src = marche2d;\nimageMarche3DUrl.src = marche3d;\nimageMarche4DUrl.src = marche4d;\nimageEnnemi1Url.src = ennemi1;\n\nimageSolUrl.onload = () => {\n  stateImageSol = true\n}\n\nimageCoeurUrl.onload = () => {\n  stateImageCoeur = true\n}\n\nimagePersoUrl.onload = () => {\n  stateImagePerso = true\n}\n\nimageFond1Url.onload = () => {\n  stateFond = true\n}\nimageEnnemi1Url.onload = () =>{\n  stateEnnemi = true\n}\n\nconst toDoubleHexa = (n: number) =>\n  n < 16 ? '0' + n.toString(16) : n.toString(16)\n\nexport const rgbaTorgb = (rgb: string, alpha = 0) => {\n  let r = 0\n  let g = 0\n  let b = 0\n  if (rgb.startsWith('#')) {\n    const hexR = rgb.length === 7 ? rgb.slice(1, 3) : rgb[1]\n    const hexG = rgb.length === 7 ? rgb.slice(3, 5) : rgb[2]\n    const hexB = rgb.length === 7 ? rgb.slice(5, 7) : rgb[3]\n    r = parseInt(hexR, 16)\n    g = parseInt(hexG, 16)\n    b = parseInt(hexB, 16)\n  }\n  if (rgb.startsWith('rgb')) {\n    const val = rgb.replace(/(rgb)|\\(|\\)| /g, '')\n    const splitted = val.split(',')\n    r = parseInt(splitted[0])\n    g = parseInt(splitted[1])\n    b = parseInt(splitted[2])\n  }\n\n  r = Math.max(Math.min(Math.floor((1 - alpha) * r + alpha * 255), 255), 0)\n  g = Math.max(Math.min(Math.floor((1 - alpha) * g + alpha * 255), 255), 0)\n  b = Math.max(Math.min(Math.floor((1 - alpha) * b + alpha * 255), 255), 0)\n  return `#${toDoubleHexa(r)}${toDoubleHexa(g)}${toDoubleHexa(b)}`\n}\n\nconst clear = (ctx: CanvasRenderingContext2D) => {\n  const { height, width } = ctx.canvas\n  ctx.fillStyle = 'white'\n  ctx.fillRect(0, 0, width, height)\n}\n\n\n/*\nexport type RenderProps = {\n  pos: { x: number; y: number }\n  scale: number\n}\n\nconst drawCirle = (\n  ctx: CanvasRenderingContext2D,\n  renderProps: RenderProps,\n  { x, y }: { x: number; y: number },\n  color: string\n) => {\n  ctx.beginPath()\n  ctx.fillStyle = color\n  ctx.arc(\n    (x + renderProps.pos.x) * renderProps.scale,\n    (y + renderProps.pos.y) * renderProps.scale,\n    conf.RADIUS * renderProps.scale,\n    0,\n    2 * Math.PI\n  )\n  ctx.fill()\n}*/\n\n\nlet cptTmp = 0\nlet cptTmpEnnemis=0\nconst diplayImages = (ctx: CanvasRenderingContext2D) => (state: State) => {\n  \n  //on déplace la caméra en prenant le joueur comme réferentiel\n  ctx.save();\n  ctx.translate(-(state.camera.x-ctx.canvas.width/2),0);\n\n  /*Il faut s'assurer que tous les éléments du fond (points de vie etc.. suivent la caméra)\n    Mais que tous les éléments fixes (plateformes/ennemis ne la suivent pas)\n  */\n  if(stateFond){\n    if(frame<5)\n      ctx.drawImage(imageFond1Url,state.camera.x-ctx.canvas.width/2,-200,1400,1000)\n    else if (frame>=5 && frame < 10)\n      ctx.drawImage(imageFond2Url,state.camera.x-ctx.canvas.width/2,-200,1400,1000)\n    else if (frame>=10 && frame < 15)\n      ctx.drawImage(imageFond3Url,state.camera.x-ctx.canvas.width/2,-200,1400,1000)\n    else{\n      ctx.drawImage(imageFond4Url,state.camera.x-ctx.canvas.width/2,-200,1400,1000)\n    }\n  }\n  /*if(stateImageSol){\n    ctx.drawImage(imageSolUrl,0,680,500,100);\n    ctx.drawImage(imageSolUrl,495,680,500,100);\n    ctx.drawImage(imageSolUrl,990,680,500,100);\n  }*/\n  if(stateImageCoeur)\n    ctx.drawImage(imageCoeurUrl,10+state.camera.x-ctx.canvas.width/2,10,50,50);\n    ctx.drawImage(imageCoeurUrl,70+state.camera.x-ctx.canvas.width/2,10,50,50);\n    ctx.drawImage(imageCoeurUrl,130+state.camera.x-ctx.canvas.width/2,10,50,50);\n\n  //affichage des plateformes\n  for(let i = 0; i<20; i++){\n      ctx.drawImage(imageSolUrl,i*495, 680, 500, 100)\n  }\n\n\n\n\n  for(let i = 0; i<ensPlat.length; i++){\n      ctx.drawImage(imagePF,ensPlat[i].x, ensPlat[i].y, ensPlat[i].longueur, ensPlat[i].largeur)\n      //ctx.fillStyle = 'red'\n      //ctx.fillRect(plats[i].x, plats[i].y, plats[i].longueur, plats[i].largeur)\n  }\n\n\n\n  if(stateEnnemi){\n    if(walkcycleEnnemis==false){\n      cptTmpEnnemis = 0\n      if(rotateEnnemis == true){\n        for(let i = 0; i<ensEnnemis.length; i++){\n          ctx.drawImage(imageEnnemi1Url,ensEnnemis[i].x, ensEnnemis[i].y,80,80)\n        }\n      }\n      else{\n        for(let i = 0; i<ensEnnemis.length; i++){\n          ctx.drawImage(imageEnnemi1Url,ensEnnemis[i].x, ensEnnemis[i].y,80,80)\n        }\n      }\n    }\n    else{\n      if(rotateEnnemis==true){\n        cptTmpEnnemis= (cptTmpEnnemis+1)%60\n        if(cptTmpEnnemis<15)\n          for(let i = 0; i<ensEnnemis.length; i++){\n            ctx.drawImage(imageEnnemi1Url,ensEnnemis[i].x, ensEnnemis[i].y,80,80)\n          }\n        else if (cptTmpEnnemis>=15 && cptTmpEnnemis < 30)\n          for(let i = 0; i<ensEnnemis.length; i++){\n            ctx.drawImage(imageEnnemi1Url,ensEnnemis[i].x, ensEnnemis[i].y,80,80)\n          }\n        else if (cptTmp>=30 && cptTmp < 45)\n          for(let i = 0; i<ensEnnemis.length; i++){\n            ctx.drawImage(imageEnnemi1Url,ensEnnemis[i].x, ensEnnemis[i].y,80,80)\n          }\n        else{\n          for(let i = 0; i<ensEnnemis.length; i++){\n            ctx.drawImage(imageEnnemi1Url,ensEnnemis[i].x, ensEnnemis[i].y,80,80)\n          }\n        }\n      }\n      else{\n        cptTmpEnnemis= (cptTmpEnnemis+1)%60\n        if(cptTmpEnnemis<15)\n          for(let i = 0; i<ensEnnemis.length; i++){\n            ctx.drawImage(imageEnnemi1Url,ensEnnemis[i].x, ensEnnemis[i].y,80,80)\n          }\n        else if (cptTmpEnnemis>=15 && cptTmpEnnemis < 30)\n          for(let i = 0; i<ensEnnemis.length; i++){\n            ctx.drawImage(imageEnnemi1Url,ensEnnemis[i].x, ensEnnemis[i].y,80,80)\n          }\n        else if (cptTmp>=30 && cptTmp < 45)\n          for(let i = 0; i<ensEnnemis.length; i++){\n            ctx.drawImage(imageEnnemi1Url,ensEnnemis[i].x, ensEnnemis[i].y,80,80)\n          }\n        else{\n          for(let i = 0; i<ensEnnemis.length; i++){\n            ctx.drawImage(imageEnnemi1Url,ensEnnemis[i].x, ensEnnemis[i].y,80,80)\n          }\n        }\n      }\n    }\n  }\n\n  if(stateImagePerso){\n\n    if(walkcycle==false){\n      cptTmp = 0\n      if(rotate == true){\n        ctx.drawImage(imagePersoUrlD,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX,dimPersoY);\n      }\n      else{\n          ctx.drawImage(imagePersoUrl,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX,dimPersoY);\n        }\n    }\n    else{\n      if(rotate==true){\n        cptTmp= (cptTmp+1)%60\n        if(cptTmp<15)\n          ctx.drawImage(imageMarche1DUrl,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX,dimPersoY)\n        else if (cptTmp>=15 && cptTmp < 30)\n          ctx.drawImage(imageMarche2DUrl,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX-30,dimPersoY)\n        else if (cptTmp>=30 && cptTmp < 45)\n          ctx.drawImage(imageMarche3DUrl,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX,dimPersoY)\n        else{\n          ctx.drawImage(imageMarche4DUrl,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX-30,dimPersoY)\n        }\n      }\n      else{\n        cptTmp= (cptTmp+1)%60\n        if(cptTmp<15)\n          ctx.drawImage(imageMarche1Url,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX,dimPersoY)\n        else if (cptTmp>=15 && cptTmp < 30)\n          ctx.drawImage(imageMarche2Url,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX-30,dimPersoY)\n        else if (cptTmp>=30 && cptTmp < 45)\n          ctx.drawImage(imageMarche3Url,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX,dimPersoY)\n        else{\n          ctx.drawImage(imageMarche4Url,state.joueur.pos.x-(dimPersoX/2),state.joueur.pos.y-(dimPersoY/2),dimPersoX-30,dimPersoY)\n        }\n      }\n    }\n  }\n\n\n  \n  ctx.restore();\n}\n\nconst computeColor = (life: number, maxLife: number, baseColor: string) =>\n  rgbaTorgb(baseColor, (maxLife - life) * (1 / maxLife))\n\nexport const render =\n  (ctx: CanvasRenderingContext2D/*, props: RenderProps*/, plats: Array<jeu.Plateforme>) => (state: State) => {\n    clear(ctx)\n    frame ++\n    frame = frame%20\n\n    diplayImages(ctx)(state)\n    /*state.pos.map((c) =>\n      drawCirle(\n        ctx,\n        props,\n        c.coord,\n        computeColor(c.life, conf.BALLLIFE, COLORS.GREEN)\n      )\n    )\n    drawCirle(\n      ctx,\n      props,\n      state.player.coord,\n      computeColor(state.player.life, conf.PLAYERLIFE, COLORS.BLUE)\n    )*/\n\n    \n    //console.log(plats[0][0])\n    \n    /*if (state.endOfGame) {\n      const text = 'END'\n      ctx.font = '48px'\n      ctx.strokeText(text, state.size.width / 2 - 100, state.size.height / 2)\n    }*/\n  }\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}