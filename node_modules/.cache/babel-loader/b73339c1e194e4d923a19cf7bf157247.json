{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"/Users/giulianicarla/Documents/GitHub/CPA/src/components/canvas/index.tsx\";\nimport React from 'react';\nimport * as conf from './conf';\nimport { useRef, useEffect } from 'react';\nimport { step, mouseMove, endOfGame } from './state';\nimport { render /*, RenderProps*/ } from './renderer';\nimport * as jeu from './game';\nvar randomInt = function randomInt(max) {\n  return Math.floor(Math.random() * max);\n};\nvar randomSign = function randomSign() {\n  return Math.sign(Math.random() - 0.5);\n};\nvar initCanvas = function initCanvas(iterate) {\n  return function (canvas) {\n    var ctx = canvas.getContext('2d');\n    if (!ctx) return;\n    requestAnimationFrame(function () {\n      return iterate(ctx);\n    });\n  };\n};\n\n//Initialisation des plateformes (global car on les connait toutes à l'avance)\nexport var ensPlat = [new jeu.Plateforme({\n  x: 400,\n  y: 400,\n  longueur: 200,\n  largeur: 70\n}), new jeu.Plateforme({\n  x: 800,\n  y: 470,\n  longueur: 200,\n  largeur: 70\n}), new jeu.Plateforme({\n  x: 1200,\n  y: 615,\n  longueur: 70,\n  largeur: 70\n}), new jeu.Plateforme({\n  x: 1800,\n  y: 615,\n  longueur: 70,\n  largeur: 70\n})];\nexport var ensEnnemis = [new jeu.Ennemi({\n  x: 1400,\n  y: 610,\n  HP: 0,\n  speed: 10,\n  velX: 0,\n  velY: 0\n})];\n//new jeu.Plateforme({x : 300, y:400, longueur:200, largeur:70}),\n//new jeu.Plateforme({x : 200, y:300, longueur:200, largeur:70}),new jeu.Plateforme({x : 100, y:200, longueur:200, largeur:70}[400, 520, 200, 70],[300, 400, 200, 70],[200, 300, 200, 70],[100, 200, 200, 70]]\n\nvar i = -1;\nvar j = -1;\nvar Canvas = function Canvas(_ref) {\n  var height = _ref.height,\n    width = _ref.width;\n  var initialState = {\n    joueur: {\n      pos: {\n        x: 50,\n        y: 50\n      },\n      HP: 3,\n      speed: 10,\n      velX: 0,\n      velY: 0\n    },\n    pos: new Array(20).fill(1).map(function (_) {\n      return {\n        life: conf.BALLLIFE,\n        coord: {\n          x: randomInt(width - 120) + 60,\n          y: randomInt(height - 120) + 60,\n          dx: 4 * randomSign(),\n          dy: 4 * randomSign()\n        }\n      };\n    }),\n    player: {\n      life: conf.PLAYERLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 0,\n        dy: 0\n      }\n    },\n    size: {\n      height: height,\n      width: width\n    },\n    endOfGame: true,\n    platforms: ensPlat,\n    camera: {\n      x: 0,\n      y: 0,\n      widthC: width,\n      heightC: height\n    },\n    ennemis: ensEnnemis\n  };\n  var ref = useRef();\n  var state = useRef(initialState);\n  var scaleRef = useRef(1);\n  var posRef = useRef({\n    x: 0,\n    y: 0\n  });\n  var drag = useRef(false);\n  var dragStart = useRef({\n    x: 0,\n    y: 0\n  });\n  var downTS = useRef(Date.now());\n  var iterate = function iterate(ctx) {\n    /*const fps = 60;\n    const interval = 1000 / fps;\n    let lastRenderTime = 0;\n     setInterval(() => {\n      const currentTime = Date.now();\n      const elapsed = currentTime - lastRenderTime;\n      if (elapsed > interval) {\n        lastRenderTime = currentTime;\n         // votre code de rendu de canvas ici\n      }\n    }, interval);*/\n\n    state.current = step(state.current);\n    state.current = stepAuto(state.current);\n    state.current.endOfGame = !endOfGame(state.current);\n    render(ctx,\n    /*{\n    pos: posRef.current,\n    scale: scaleRef.current,\n    },*/\n    ensPlat)(state.current);\n    if (!state.current.endOfGame) requestAnimationFrame(function () {\n      return iterate(ctx);\n    });\n  };\n  var onMove = function onMove(e) {\n    state.current = mouseMove(state.current)(e);\n  };\n  useEffect(function () {\n    var onWheel = function onWheel(e) {\n      var offsetX = e.offsetX,\n        offsetY = e.offsetY,\n        deltaY = e.deltaY;\n      var zoomFactor = 0.98;\n      if (scaleRef.current > 0.5 || deltaY < 0) {\n        var factor = e.deltaY > 0 ? zoomFactor : 1 / zoomFactor;\n        scaleRef.current = scaleRef.current * factor;\n        var dx = offsetX / scaleRef.current * (factor - 1);\n        var dy = offsetY / scaleRef.current * (factor - 1);\n        posRef.current = {\n          x: posRef.current.x - dx,\n          y: posRef.current.y - dy\n        };\n      }\n    };\n    var onDragStart = function onDragStart(e) {\n      var x = e.x,\n        y = e.y;\n      dragStart.current = {\n        x: x,\n        y: y\n      };\n      drag.current = true;\n      downTS.current = Date.now();\n    };\n    var onDragEnd = function onDragEnd(_e) {\n      return drag.current = false;\n    };\n    var onDragMove = function onDragMove(e) {\n      if (drag.current) {\n        var x = e.x,\n          y = e.y;\n        var scale = scaleRef.current;\n        var pos = posRef.current;\n        posRef.current = {\n          x: (x - dragStart.current.x) / scale + pos.x,\n          y: (y - dragStart.current.y) / scale + pos.y\n        };\n        dragStart.current = {\n          x: x,\n          y: y\n        };\n      }\n    };\n    ref.current.addEventListener('mousemove', onMove);\n    ref.current.addEventListener('wheel', onWheel);\n    ref.current.addEventListener('mouseupoutside', onDragEnd);\n    ref.current.addEventListener('touchendoutside', onDragEnd);\n    ref.current.addEventListener('mousemove', onDragMove);\n    ref.current.addEventListener('mousedown', onDragStart);\n    ref.current.addEventListener('touchstart', onDragStart);\n    ref.current.addEventListener('mouseup', onDragEnd);\n    ref.current.addEventListener('touchend', onDragEnd);\n    ref.current.addEventListener('mousemove', onDragMove);\n    ref.current.addEventListener('touchmove', onDragMove);\n    initCanvas(iterate)(ref.current);\n    return function () {\n      ref.current.removeEventListener('mousemove', onMove);\n      ref.current.removeEventListener('wheel', onWheel);\n      ref.current.removeEventListener('mouseupoutside', onDragEnd);\n      ref.current.removeEventListener('touchendoutside', onDragEnd);\n      ref.current.removeEventListener('mousemove', onDragMove);\n      ref.current.removeEventListener('mousedown', onDragStart);\n      ref.current.removeEventListener('touchstart', onDragStart);\n      ref.current.removeEventListener('mouseup', onDragEnd);\n      ref.current.removeEventListener('touchend', onDragEnd);\n      ref.current.removeEventListener('mousemove', onDragMove);\n      ref.current.removeEventListener('touchmove', onDragMove);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"canvas\", {\n    height: height,\n    width: width,\n    ref: ref,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 10\n    }\n  });\n};\nexport default Canvas;","map":{"version":3,"names":["React","conf","useRef","useEffect","step","mouseMove","endOfGame","render","jeu","randomInt","max","Math","floor","random","randomSign","sign","initCanvas","iterate","canvas","ctx","getContext","requestAnimationFrame","ensPlat","Plateforme","x","y","longueur","largeur","ensEnnemis","Ennemi","HP","speed","velX","velY","i","j","Canvas","_ref","height","width","initialState","joueur","pos","Array","fill","map","_","life","BALLLIFE","coord","dx","dy","player","PLAYERLIFE","size","platforms","camera","widthC","heightC","ennemis","ref","state","scaleRef","posRef","drag","dragStart","downTS","Date","now","current","stepAuto","onMove","e","onWheel","offsetX","offsetY","deltaY","zoomFactor","factor","onDragStart","onDragEnd","_e","onDragMove","scale","addEventListener","removeEventListener","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/giulianicarla/Documents/GitHub/CPA/src/components/canvas/index.tsx"],"sourcesContent":["import React from 'react'\nimport * as conf from './conf'\nimport { useRef, useEffect } from 'react'\nimport { State, step, mouseMove, endOfGame } from './state'\nimport { render/*, RenderProps*/ } from './renderer'\n\nimport * as jeu from './game'\n\nconst randomInt = (max: number) => Math.floor(Math.random() * max)\nconst randomSign = () => Math.sign(Math.random() - 0.5)\n\nconst initCanvas =\n  (iterate: (ctx: CanvasRenderingContext2D) => void) =>\n  (canvas: HTMLCanvasElement) => {\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return\n    requestAnimationFrame(() => iterate(ctx))\n  }\n\n\n//Initialisation des plateformes (global car on les connait toutes à l'avance)\nexport let ensPlat = [new jeu.Plateforme({x : 400, y:400, longueur:200, largeur:70}), new jeu.Plateforme({x : 800, y:470, longueur:200, largeur:70}), new jeu.Plateforme({x : 1200, y:615, longueur:70, largeur:70}),new jeu.Plateforme({x : 1800, y:615, longueur:70, largeur:70})]\nexport let ensEnnemis = [new jeu.Ennemi({x: 1400,y: 610, HP:0, speed:10,velX:0,velY:0})]\n//new jeu.Plateforme({x : 300, y:400, longueur:200, largeur:70}),\n//new jeu.Plateforme({x : 200, y:300, longueur:200, largeur:70}),new jeu.Plateforme({x : 100, y:200, longueur:200, largeur:70}[400, 520, 200, 70],[300, 400, 200, 70],[200, 300, 200, 70],[100, 200, 200, 70]]\n\nlet i = -1\nlet j = -1\nconst Canvas = ({ height, width }: { height: number; width: number }) => {\n  const initialState: State = {\n    joueur: {\n      pos: {\n        x: 50,\n        y: 50,\n      },\n      HP: 3,\n      speed: 10,\n      velX: 0,\n      velY: 0,\n    },\n\n    pos: new Array(20).fill(1).map((_) => ({\n      life: conf.BALLLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 4 * randomSign(),\n        dy: 4 * randomSign(),\n      },\n    })),\n    player: {\n      life: conf.PLAYERLIFE,\n      coord: {\n        x: randomInt(width - 120) + 60,\n        y: randomInt(height - 120) + 60,\n        dx: 0,\n        dy: 0,\n      },\n    },\n    size: { height, width },\n    endOfGame: true,\n    platforms: ensPlat,\n    camera: {\n      x: 0,\n      y: 0,\n\n      widthC: width,\n      heightC: height,\n    },\n    ennemis: ensEnnemis,\n  }\n\n  const ref = useRef<any>()\n  const state = useRef<State>(initialState)\n  const scaleRef = useRef<number>(1)\n  const posRef = useRef<{ x: number; y: number }>({ x: 0, y: 0 })\n  const drag = useRef<boolean>(false)\n  const dragStart = useRef<{ x: number; y: number }>({ x: 0, y: 0 })\n  const downTS = useRef<number>(Date.now())\n\n  const iterate = (ctx: CanvasRenderingContext2D) => {\n    /*const fps = 60;\n    const interval = 1000 / fps;\n    let lastRenderTime = 0;\n\n    setInterval(() => {\n      const currentTime = Date.now();\n      const elapsed = currentTime - lastRenderTime;\n      if (elapsed > interval) {\n        lastRenderTime = currentTime;\n\n        // votre code de rendu de canvas ici\n      }\n  }, interval);*/\n\n\n\n    state.current = step(state.current)\n    state.current=stepAuto(state.current)\n    state.current.endOfGame = !endOfGame(state.current)\n    render(ctx, /*{\n      pos: posRef.current,\n      scale: scaleRef.current,\n    },*/ensPlat)(state.current)\n    if (!state.current.endOfGame) requestAnimationFrame(() => iterate(ctx))\n  }\n\n\n  const onMove = (e: PointerEvent) => {\n    state.current = mouseMove(state.current)(e)\n  }\n\n  useEffect(() => {\n    const onWheel = (e: WheelEvent) => {\n      const { offsetX, offsetY, deltaY } = e\n      const zoomFactor = 0.98\n      if (scaleRef.current > 0.5 || deltaY < 0) {\n        const factor = e.deltaY > 0 ? zoomFactor : 1 / zoomFactor\n        scaleRef.current = scaleRef.current * factor\n        const dx = (offsetX / scaleRef.current) * (factor - 1)\n        const dy = (offsetY / scaleRef.current) * (factor - 1)\n        posRef.current = {\n          x: posRef.current.x - dx,\n          y: posRef.current.y - dy,\n        }\n      }\n    }\n    const onDragStart = (e: PointerEvent) => {\n      const { x, y } = e\n      dragStart.current = { x, y }\n      drag.current = true\n      downTS.current = Date.now()\n    }\n    const onDragEnd = (_e: any) => (drag.current = false)\n    const onDragMove = (e: PointerEvent) => {\n      if (drag.current) {\n        const { x, y } = e\n        const scale = scaleRef.current\n        const pos = posRef.current\n        posRef.current = {\n          x: (x - dragStart.current.x) / scale + pos.x,\n          y: (y - dragStart.current.y) / scale + pos.y,\n        }\n        dragStart.current = { x, y }\n      }\n    }\n\n    ref.current.addEventListener('mousemove', onMove)\n    ref.current.addEventListener('wheel', onWheel)\n    ref.current.addEventListener('mouseupoutside', onDragEnd)\n    ref.current.addEventListener('touchendoutside', onDragEnd)\n    ref.current.addEventListener('mousemove', onDragMove)\n    ref.current.addEventListener('mousedown', onDragStart)\n    ref.current.addEventListener('touchstart', onDragStart)\n    ref.current.addEventListener('mouseup', onDragEnd)\n    ref.current.addEventListener('touchend', onDragEnd)\n    ref.current.addEventListener('mousemove', onDragMove)\n    ref.current.addEventListener('touchmove', onDragMove)\n    initCanvas(iterate)(ref.current)\n\n    return () => {\n      ref.current.removeEventListener('mousemove', onMove)\n      ref.current.removeEventListener('wheel', onWheel)\n      ref.current.removeEventListener('mouseupoutside', onDragEnd)\n      ref.current.removeEventListener('touchendoutside', onDragEnd)\n      ref.current.removeEventListener('mousemove', onDragMove)\n      ref.current.removeEventListener('mousedown', onDragStart)\n      ref.current.removeEventListener('touchstart', onDragStart)\n      ref.current.removeEventListener('mouseup', onDragEnd)\n      ref.current.removeEventListener('touchend', onDragEnd)\n      ref.current.removeEventListener('mousemove', onDragMove)\n      ref.current.removeEventListener('touchmove', onDragMove)\n    }\n  }, [])\n  return <canvas {...{ height, width, ref }} />\n}\n\nexport default Canvas\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}